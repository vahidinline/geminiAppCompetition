"use strict";exports.id=801,exports.ids=[801],exports.modules={1268:(e,t,i)=>{i.a(e,async(e,n)=>{try{i.d(t,{Z:()=>d});var s=i(99151),r=i(95546),o=i(43398),l=i(93544),a=e([s,o,l,r]);[s,o,l,r]=a.then?(await a)():a;var d=(0,s.createPlugin)({name:"@fullcalendar/daygrid",initialView:"dayGridMonth",views:{dayGrid:{component:r.Nt,dateProfileGeneratorClass:r.XK},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},fixedWeekCount:!0},dayGridYear:{type:"dayGrid",duration:{years:1}}}});n()}catch(e){n(e)}})},95546:(e,t,i)=>{i.a(e,async(e,n)=>{try{i.d(t,{Nt:()=>DayTableView,XK:()=>TableDateProfileGenerator,iz:()=>DayTable});var s=i(43398),r=i(93544),o=e([s,r]);function splitSegsByRow(e,t){let i=[];for(let e=0;e<t;e+=1)i[e]=[];for(let t of e)i[t.row].push(t);return i}function splitSegsByFirstCol(e,t){let i=[];for(let e=0;e<t;e+=1)i[e]=[];for(let t of e)i[t.firstCol].push(t);return i}function splitInteractionByRow(e,t){let i=[];if(e){for(let n=0;n<t;n+=1)i[n]={affectedInstances:e.affectedInstances,isEvent:e.isEvent,segs:[]};for(let t of e.segs)i[t.row].segs.push(t)}else for(let e=0;e<t;e+=1)i[e]=null;return i}[s,r]=o.then?(await o)():o,(0,s.injectStyles)(':root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:"";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:"";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}');let l=(0,s.createFormatter)({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function hasListItemDisplay(e){let{display:t}=e.eventRange.ui;return"list-item"===t||"auto"===t&&!e.eventRange.def.allDay&&e.firstCol===e.lastCol&&e.isStart&&e.isEnd}let TableBlockEvent=class TableBlockEvent extends s.BaseComponent{render(){let{props:e}=this;return(0,r.createElement)(s.StandardEvent,Object.assign({},e,{elClasses:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:l,defaultDisplayEventEnd:e.defaultDisplayEventEnd,disableResizing:!e.seg.eventRange.def.allDay}))}};let TableListItemEvent=class TableListItemEvent extends s.BaseComponent{render(){let{props:e,context:t}=this,{options:i}=t,{seg:n}=e,o=i.eventTimeFormat||l,a=(0,s.buildSegTimeText)(n,o,t,!0,e.defaultDisplayEventEnd);return(0,r.createElement)(s.EventContainer,Object.assign({},e,{elTag:"a",elClasses:["fc-daygrid-event","fc-daygrid-dot-event"],elAttrs:(0,s.getSegAnchorAttrs)(e.seg,t),defaultGenerator:renderInnerContent,timeText:a,isResizing:!1,isDateSelecting:!1}))}};function renderInnerContent(e){return(0,r.createElement)(r.Fragment,null,(0,r.createElement)("div",{className:"fc-daygrid-event-dot",style:{borderColor:e.borderColor||e.backgroundColor}}),e.timeText&&(0,r.createElement)("div",{className:"fc-event-time"},e.timeText),(0,r.createElement)("div",{className:"fc-event-title"},e.event.title||(0,r.createElement)(r.Fragment,null,"\xa0")))}let TableCellMoreLink=class TableCellMoreLink extends s.BaseComponent{constructor(){super(...arguments),this.compileSegs=(0,s.memoize)(compileSegs)}render(){let{props:e}=this,{allSegs:t,invisibleSegs:i}=this.compileSegs(e.singlePlacements);return(0,r.createElement)(s.MoreLinkContainer,{elClasses:["fc-daygrid-more-link"],dateProfile:e.dateProfile,todayRange:e.todayRange,allDayDate:e.allDayDate,moreCnt:e.moreCnt,allSegs:t,hiddenSegs:i,alignmentElRef:e.alignmentElRef,alignGridTop:e.alignGridTop,extraDateSpan:e.extraDateSpan,popoverContent:()=>{let i=(e.eventDrag?e.eventDrag.affectedInstances:null)||(e.eventResize?e.eventResize.affectedInstances:null)||{};return(0,r.createElement)(r.Fragment,null,t.map(t=>{let n=t.eventRange.instance.instanceId;return(0,r.createElement)("div",{className:"fc-daygrid-event-harness",key:n,style:{visibility:i[n]?"hidden":""}},hasListItemDisplay(t)?(0,r.createElement)(TableListItemEvent,Object.assign({seg:t,isDragging:!1,isSelected:n===e.eventSelection,defaultDisplayEventEnd:!1},(0,s.getSegMeta)(t,e.todayRange))):(0,r.createElement)(TableBlockEvent,Object.assign({seg:t,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:n===e.eventSelection,defaultDisplayEventEnd:!1},(0,s.getSegMeta)(t,e.todayRange))))}))}})}};function compileSegs(e){let t=[],i=[];for(let n of e)t.push(n.seg),n.isVisible||i.push(n.seg);return{allSegs:t,invisibleSegs:i}}let a=(0,s.createFormatter)({week:"narrow"});let TableCell=class TableCell extends s.DateComponent{constructor(){super(...arguments),this.rootElRef=(0,r.createRef)(),this.state={dayNumberId:(0,s.getUniqueDomId)()},this.handleRootEl=e=>{(0,s.setRef)(this.rootElRef,e),(0,s.setRef)(this.props.elRef,e)}}render(){let{context:e,props:t,state:i,rootElRef:n}=this,{options:o,dateEnv:l}=e,{date:d,dateProfile:c}=t,h=t.showDayNumber&&function(e,t,i){let{start:n,end:r}=t,o=(0,s.addMs)(r,-1),l=i.getYear(n),a=i.getMonth(n),d=i.getYear(o),c=i.getMonth(o);return!(l===d&&a===c)&&!!(e.valueOf()===n.valueOf()||1===i.getDay(e)&&e.valueOf()<r.valueOf())}(d,c.currentRange,l);return(0,r.createElement)(s.DayCellContainer,{elTag:"td",elRef:this.handleRootEl,elClasses:["fc-daygrid-day",...t.extraClassNames||[]],elAttrs:Object.assign(Object.assign(Object.assign({},t.extraDataAttrs),t.showDayNumber?{"aria-labelledby":i.dayNumberId}:{}),{role:"gridcell"}),defaultGenerator:renderTopInner,date:d,dateProfile:c,todayRange:t.todayRange,showDayNumber:t.showDayNumber,isMonthStart:h,extraRenderProps:t.extraRenderProps},(l,c)=>(0,r.createElement)("div",{ref:t.innerElRef,className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",style:{minHeight:t.minHeight}},t.showWeekNumber&&(0,r.createElement)(s.WeekNumberContainer,{elTag:"a",elClasses:["fc-daygrid-week-number"],elAttrs:(0,s.buildNavLinkAttrs)(e,d,"week"),date:d,defaultFormat:a}),!c.isDisabled&&(t.showDayNumber||(0,s.hasCustomDayCellContent)(o)||t.forceDayTop)?(0,r.createElement)("div",{className:"fc-daygrid-day-top"},(0,r.createElement)(l,{elTag:"a",elClasses:["fc-daygrid-day-number",h&&"fc-daygrid-month-start"],elAttrs:Object.assign(Object.assign({},(0,s.buildNavLinkAttrs)(e,d)),{id:i.dayNumberId})})):t.showDayNumber?(0,r.createElement)("div",{className:"fc-daygrid-day-top",style:{visibility:"hidden"}},(0,r.createElement)("a",{className:"fc-daygrid-day-number"},"\xa0")):void 0,(0,r.createElement)("div",{className:"fc-daygrid-day-events",ref:t.fgContentElRef},t.fgContent,(0,r.createElement)("div",{className:"fc-daygrid-day-bottom",style:{marginTop:t.moreMarginTop}},(0,r.createElement)(TableCellMoreLink,{allDayDate:d,singlePlacements:t.singlePlacements,moreCnt:t.moreCnt,alignmentElRef:n,alignGridTop:!t.showDayNumber,extraDateSpan:t.extraDateSpan,dateProfile:t.dateProfile,eventSelection:t.eventSelection,eventDrag:t.eventDrag,eventResize:t.eventResize,todayRange:t.todayRange}))),(0,r.createElement)("div",{className:"fc-daygrid-day-bg"},t.bgContent)))}};function renderTopInner(e){return e.dayNumberText||(0,r.createElement)(r.Fragment,null,"\xa0")}function generateSegKey(e){return e.eventRange.instance.instanceId+":"+e.firstCol}function generateSegUid(e){return generateSegKey(e)+":"+e.lastCol}function resliceSeg(e,t,i,n){if(e.firstCol===t&&e.lastCol===i-1)return e;let r=e.eventRange,o=r.range,l=(0,s.intersectRanges)(o,{start:n[t].date,end:(0,s.addDays)(n[i-1].date,1)});return Object.assign(Object.assign({},e),{firstCol:t,lastCol:i-1,eventRange:{def:r.def,ui:Object.assign(Object.assign({},r.ui),{durationEditable:!1}),instance:r.instance,range:l},isStart:e.isStart&&l.start.valueOf()===o.start.valueOf(),isEnd:e.isEnd&&l.end.valueOf()===o.end.valueOf()})}let DayGridSegHierarchy=class DayGridSegHierarchy extends s.SegHierarchy{constructor(){super(...arguments),this.hiddenConsumes=!1,this.forceHidden={}}addSegs(e){let t=super.addSegs(e),{entriesByLevel:i}=this,excludeHidden=e=>!this.forceHidden[(0,s.buildEntryKey)(e)];for(let e=0;e<i.length;e+=1)i[e]=i[e].filter(excludeHidden);return t}handleInvalidInsertion(e,t,i){let{entriesByLevel:n,forceHidden:r}=this,{touchingEntry:o,touchingLevel:l,touchingLateral:a}=e;if(this.hiddenConsumes&&o){let e=(0,s.buildEntryKey)(o);if(!r[e]){if(this.allowReslicing){let e=Object.assign(Object.assign({},o),{span:(0,s.intersectSpans)(o.span,t.span)}),d=(0,s.buildEntryKey)(e);r[d]=!0,n[l][a]=e,this.splitEntry(o,t,i)}else r[e]=!0,i.push(o)}}return super.handleInvalidInsertion(e,t,i)}};let TableRow=class TableRow extends s.DateComponent{constructor(){super(...arguments),this.cellElRefs=new s.RefMap,this.frameElRefs=new s.RefMap,this.fgElRefs=new s.RefMap,this.segHarnessRefs=new s.RefMap,this.rootElRef=(0,r.createRef)(),this.state={framePositions:null,maxContentHeight:null,segHeights:{}},this.handleResize=e=>{e&&this.updateSizing(!0)}}render(){let{props:e,state:t,context:i}=this,{options:n}=i,o=e.cells.length,l=splitSegsByFirstCol(e.businessHourSegs,o),a=splitSegsByFirstCol(e.bgEventSegs,o),d=splitSegsByFirstCol(this.getHighlightSegs(),o),c=splitSegsByFirstCol(this.getMirrorSegs(),o),{singleColPlacements:h,multiColPlacements:g,moreCnts:u,moreMarginTops:m}=function(e,t,i,n,s,r,o){let l=new DayGridSegHierarchy(t=>s[e[t.index].eventRange.instance.instanceId+":"+t.span.start+":"+(t.span.end-1)]);l.allowReslicing=!0,l.strictOrder=n,!0===t||!0===i?(l.maxCoord=r,l.hiddenConsumes=!0):"number"==typeof t?l.maxStackCnt=t:"number"==typeof i&&(l.maxStackCnt=i,l.hiddenConsumes=!0);let a=[],d=[];for(let t=0;t<e.length;t+=1){let i=e[t],n=s[generateSegUid(i)];null!=n?a.push({index:t,span:{start:i.firstCol,end:i.lastCol+1}}):d.push(i)}let c=l.addSegs(a),h=l.toRects(),{singleColPlacements:g,multiColPlacements:u,leftoverMargins:m}=function(e,t,i){let n=function(e,t){let i=[];for(let e=0;e<t;e+=1)i.push([]);for(let t of e)for(let e=t.span.start;e<t.span.end;e+=1)i[e].push(t);return i}(e,i.length),s=[],r=[],o=[];for(let e=0;e<i.length;e+=1){let l=n[e],a=[],d=0,c=0;for(let n of l){let s=t[n.index];a.push({seg:resliceSeg(s,e,e+1,i),isVisible:!0,isAbsolute:!1,absoluteTop:n.levelCoord,marginTop:n.levelCoord-d}),d=n.levelCoord+n.thickness}let h=[];for(let n of(d=0,c=0,l)){let s=t[n.index],r=n.span.end-n.span.start>1,o=n.span.start===e;c+=n.levelCoord-d,d=n.levelCoord+n.thickness,r?(c+=n.thickness,o&&h.push({seg:resliceSeg(s,n.span.start,n.span.end,i),isVisible:!0,isAbsolute:!0,absoluteTop:n.levelCoord,marginTop:0})):o&&(h.push({seg:resliceSeg(s,n.span.start,n.span.end,i),isVisible:!0,isAbsolute:!1,absoluteTop:n.levelCoord,marginTop:c}),c=0)}s.push(a),r.push(h),o.push(c)}return{singleColPlacements:s,multiColPlacements:r,leftoverMargins:o}}(h,e,o),f=[],p=[];for(let e of d){u[e.firstCol].push({seg:e,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let t=e.firstCol;t<=e.lastCol;t+=1)g[t].push({seg:resliceSeg(e,t,t+1,o),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let e=0;e<o.length;e+=1)f.push(0);for(let t of c){let i=e[t.index],n=t.span;u[n.start].push({seg:resliceSeg(i,n.start,n.end,o),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let e=n.start;e<n.end;e+=1)f[e]+=1,g[e].push({seg:resliceSeg(i,e,e+1,o),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let e=0;e<o.length;e+=1)p.push(m[e]);return{singleColPlacements:g,multiColPlacements:u,moreCnts:f,moreMarginTops:p}}((0,s.sortEventSegs)(e.fgEventSegs,n.eventOrder),e.dayMaxEvents,e.dayMaxEventRows,n.eventOrderStrict,t.segHeights,t.maxContentHeight,e.cells),f=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{};return(0,r.createElement)("tr",{ref:this.rootElRef,role:"row"},e.renderIntro&&e.renderIntro(),e.cells.map((t,i)=>{let n=this.renderFgSegs(i,e.forPrint?h[i]:g[i],e.todayRange,f),s=this.renderFgSegs(i,function(e,t){if(!e.length)return[];let i=function(e){let t={};for(let i of e)for(let e of i)t[e.seg.eventRange.instance.instanceId]=e.absoluteTop;return t}(t);return e.map(e=>({seg:e,isVisible:!0,isAbsolute:!0,absoluteTop:i[e.eventRange.instance.instanceId],marginTop:0}))}(c[i],g),e.todayRange,{},!!e.eventDrag,!!e.eventResize,!1);return(0,r.createElement)(TableCell,{key:t.key,elRef:this.cellElRefs.createRef(t.key),innerElRef:this.frameElRefs.createRef(t.key),dateProfile:e.dateProfile,date:t.date,showDayNumber:e.showDayNumbers,showWeekNumber:e.showWeekNumbers&&0===i,forceDayTop:e.showWeekNumbers,todayRange:e.todayRange,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,extraRenderProps:t.extraRenderProps,extraDataAttrs:t.extraDataAttrs,extraClassNames:t.extraClassNames,extraDateSpan:t.extraDateSpan,moreCnt:u[i],moreMarginTop:m[i],singlePlacements:h[i],fgContentElRef:this.fgElRefs.createRef(t.key),fgContent:(0,r.createElement)(r.Fragment,null,(0,r.createElement)(r.Fragment,null,n),(0,r.createElement)(r.Fragment,null,s)),bgContent:(0,r.createElement)(r.Fragment,null,this.renderFillSegs(d[i],"highlight"),this.renderFillSegs(l[i],"non-business"),this.renderFillSegs(a[i],"bg-event")),minHeight:e.cellMinHeight})}))}componentDidMount(){this.updateSizing(!0),this.context.addResizeHandler(this.handleResize)}componentDidUpdate(e,t){let i=this.props;this.updateSizing(!(0,s.isPropsEqual)(e,i))}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}getHighlightSegs(){let{props:e}=this;return e.eventDrag&&e.eventDrag.segs.length?e.eventDrag.segs:e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:e.dateSelectionSegs}getMirrorSegs(){let{props:e}=this;return e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:[]}renderFgSegs(e,t,i,n,o,l,a){let{context:d}=this,{eventSelection:c}=this.props,{framePositions:h}=this.state,g=1===this.props.cells.length,u=o||l||a,m=[];if(h)for(let e of t){let{seg:t}=e,{instanceId:f}=t.eventRange.instance,p=e.isVisible&&!n[f],v=e.isAbsolute,y="",E="";v&&(d.isRtl?(E=0,y=h.lefts[t.lastCol]-h.lefts[t.firstCol]):(y=0,E=h.rights[t.firstCol]-h.rights[t.lastCol])),m.push((0,r.createElement)("div",{className:"fc-daygrid-event-harness"+(v?" fc-daygrid-event-harness-abs":""),key:generateSegKey(t),ref:u?null:this.segHarnessRefs.createRef(generateSegUid(t)),style:{visibility:p?"":"hidden",marginTop:v?"":e.marginTop,top:v?e.absoluteTop:"",left:y,right:E}},hasListItemDisplay(t)?(0,r.createElement)(TableListItemEvent,Object.assign({seg:t,isDragging:o,isSelected:f===c,defaultDisplayEventEnd:g},(0,s.getSegMeta)(t,i))):(0,r.createElement)(TableBlockEvent,Object.assign({seg:t,isDragging:o,isResizing:l,isDateSelecting:a,isSelected:f===c,defaultDisplayEventEnd:g},(0,s.getSegMeta)(t,i)))))}return m}renderFillSegs(e,t){let{isRtl:i}=this.context,{todayRange:n}=this.props,{framePositions:o}=this.state,l=[];if(o)for(let a of e){let e=i?{right:0,left:o.lefts[a.lastCol]-o.lefts[a.firstCol]}:{left:0,right:o.rights[a.firstCol]-o.rights[a.lastCol]};l.push((0,r.createElement)("div",{key:(0,s.buildEventRangeKey)(a.eventRange),className:"fc-daygrid-bg-harness",style:e},"bg-event"===t?(0,r.createElement)(s.BgEvent,Object.assign({seg:a},(0,s.getSegMeta)(a,n))):(0,s.renderFill)(t)))}return(0,r.createElement)(r.Fragment,{},...l)}updateSizing(e){let{props:t,state:i,frameElRefs:n}=this;if(!t.forPrint&&null!==t.clientWidth){if(e){let e=t.cells.map(e=>n.currentMap[e.key]);if(e.length){let t=this.rootElRef.current,n=new s.PositionCache(t,e,!0,!1);i.framePositions&&i.framePositions.similarTo(n)||this.setState({framePositions:new s.PositionCache(t,e,!0,!1)})}}let r=this.state.segHeights,o=this.querySegHeights(),l=!0===t.dayMaxEvents||!0===t.dayMaxEventRows;this.safeSetState({segHeights:Object.assign(Object.assign({},r),o),maxContentHeight:l?this.computeMaxContentHeight():null})}}querySegHeights(){let e=this.segHarnessRefs.currentMap,t={};for(let i in e){let n=Math.round(e[i].getBoundingClientRect().height);t[i]=Math.max(t[i]||0,n)}return t}computeMaxContentHeight(){let e=this.props.cells[0].key,t=this.cellElRefs.currentMap[e],i=this.fgElRefs.currentMap[e];return t.getBoundingClientRect().bottom-i.getBoundingClientRect().top}getCellEls(){let e=this.cellElRefs.currentMap;return this.props.cells.map(t=>e[t.key])}};TableRow.addStateEquality({segHeights:s.isPropsEqual});let TableRows=class TableRows extends s.DateComponent{constructor(){super(...arguments),this.splitBusinessHourSegs=(0,s.memoize)(splitSegsByRow),this.splitBgEventSegs=(0,s.memoize)(splitSegsByRow),this.splitFgEventSegs=(0,s.memoize)(splitSegsByRow),this.splitDateSelectionSegs=(0,s.memoize)(splitSegsByRow),this.splitEventDrag=(0,s.memoize)(splitInteractionByRow),this.splitEventResize=(0,s.memoize)(splitInteractionByRow),this.rowRefs=new s.RefMap}render(){let{props:e,context:t}=this,i=e.cells.length,n=this.splitBusinessHourSegs(e.businessHourSegs,i),o=this.splitBgEventSegs(e.bgEventSegs,i),l=this.splitFgEventSegs(e.fgEventSegs,i),a=this.splitDateSelectionSegs(e.dateSelectionSegs,i),d=this.splitEventDrag(e.eventDrag,i),c=this.splitEventResize(e.eventResize,i),h=i>=7&&e.clientWidth?e.clientWidth/t.options.aspectRatio/6:null;return(0,r.createElement)(s.NowTimer,{unit:"day"},(t,s)=>(0,r.createElement)(r.Fragment,null,e.cells.map((t,g)=>(0,r.createElement)(TableRow,{ref:this.rowRefs.createRef(g),key:t.length?t[0].date.toISOString():g,showDayNumbers:i>1,showWeekNumbers:e.showWeekNumbers,todayRange:s,dateProfile:e.dateProfile,cells:t,renderIntro:e.renderRowIntro,businessHourSegs:n[g],eventSelection:e.eventSelection,bgEventSegs:o[g].filter(isSegAllDay),fgEventSegs:l[g],dateSelectionSegs:a[g],eventDrag:d[g],eventResize:c[g],dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,clientWidth:e.clientWidth,clientHeight:e.clientHeight,cellMinHeight:h,forPrint:e.forPrint}))))}componentDidMount(){this.registerInteractiveComponent()}componentDidUpdate(){this.registerInteractiveComponent()}registerInteractiveComponent(){if(!this.rootEl){let e=this.rowRefs.currentMap[0].getCellEls()[0],t=e?e.closest(".fc-daygrid-body"):null;t&&(this.rootEl=t,this.context.registerInteractiveComponent(this,{el:t,isHitComboAllowed:this.props.isHitComboAllowed}))}}componentWillUnmount(){this.rootEl&&(this.context.unregisterInteractiveComponent(this),this.rootEl=null)}prepareHits(){this.rowPositions=new s.PositionCache(this.rootEl,this.rowRefs.collect().map(e=>e.getCellEls()[0]),!1,!0),this.colPositions=new s.PositionCache(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)}queryHit(e,t){let{colPositions:i,rowPositions:n}=this,s=i.leftToIndex(e),r=n.topToIndex(t);if(null!=r&&null!=s){let e=this.props.cells[r][s];return{dateProfile:this.props.dateProfile,dateSpan:Object.assign({range:this.getCellRange(r,s),allDay:!0},e.extraDateSpan),dayEl:this.getCellEl(r,s),rect:{left:i.lefts[s],right:i.rights[s],top:n.tops[r],bottom:n.bottoms[r]},layer:0}}return null}getCellEl(e,t){return this.rowRefs.currentMap[e].getCellEls()[t]}getCellRange(e,t){let i=this.props.cells[e][t].date;return{start:i,end:(0,s.addDays)(i,1)}}};function isSegAllDay(e){return e.eventRange.def.allDay}let Table=class Table extends s.DateComponent{constructor(){super(...arguments),this.elRef=(0,r.createRef)(),this.needsScrollReset=!1}render(){let{props:e}=this,{dayMaxEventRows:t,dayMaxEvents:i,expandRows:n}=e,s=!0===i||!0===t;s&&!n&&(s=!1,t=null,i=null);let o=["fc-daygrid-body",s?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",n?"":"fc-daygrid-body-natural"];return(0,r.createElement)("div",{ref:this.elRef,className:o.join(" "),style:{width:e.clientWidth,minWidth:e.tableMinWidth}},(0,r.createElement)("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:e.clientWidth,minWidth:e.tableMinWidth,height:n?e.clientHeight:""}},e.colGroupNode,(0,r.createElement)("tbody",{role:"presentation"},(0,r.createElement)(TableRows,{dateProfile:e.dateProfile,cells:e.cells,renderRowIntro:e.renderRowIntro,showWeekNumbers:e.showWeekNumbers,clientWidth:e.clientWidth,clientHeight:e.clientHeight,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,dayMaxEvents:i,dayMaxEventRows:t,forPrint:e.forPrint,isHitComboAllowed:e.isHitComboAllowed}))))}componentDidMount(){this.requestScrollReset()}componentDidUpdate(e){e.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){if(this.needsScrollReset&&this.props.clientWidth){var e,t;let i;let n=(e=this.elRef.current,(t=this.props.dateProfile).currentRangeUnit.match(/year|month/)&&(i=e.querySelector(`[data-date="${(0,s.formatIsoMonthStr)(t.currentDate)}-01"]`)),i||(i=e.querySelector(`[data-date="${(0,s.formatDayString)(t.currentDate)}"]`)),i);if(n){let e=n.closest(".fc-daygrid-body"),t=e.closest(".fc-scroller"),i=n.getBoundingClientRect().top-e.getBoundingClientRect().top;t.scrollTop=i?i+1:0}this.needsScrollReset=!1}}};let DayTableSlicer=class DayTableSlicer extends s.Slicer{constructor(){super(...arguments),this.forceDayIfListItem=!0}sliceRange(e,t){return t.sliceRange(e)}};let DayTable=class DayTable extends s.DateComponent{constructor(){super(...arguments),this.slicer=new DayTableSlicer,this.tableRef=(0,r.createRef)()}render(){let{props:e,context:t}=this;return(0,r.createElement)(Table,Object.assign({ref:this.tableRef},this.slicer.sliceProps(e,e.dateProfile,e.nextDayThreshold,t,e.dayTableModel),{dateProfile:e.dateProfile,cells:e.dayTableModel.cells,colGroupNode:e.colGroupNode,tableMinWidth:e.tableMinWidth,renderRowIntro:e.renderRowIntro,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.showWeekNumbers,expandRows:e.expandRows,headerAlignElRef:e.headerAlignElRef,clientWidth:e.clientWidth,clientHeight:e.clientHeight,forPrint:e.forPrint}))}};let TableDateProfileGenerator=class TableDateProfileGenerator extends s.DateProfileGenerator{buildRenderRange(e,t,i){let n=super.buildRenderRange(e,t,i),{props:r}=this;return function(e){let t,{dateEnv:i,currentRange:n}=e,{start:r,end:o}=n;if(e.snapToWeek&&(r=i.startOfWeek(r),(t=i.startOfWeek(o)).valueOf()!==o.valueOf()&&(o=(0,s.addWeeks)(t,1))),e.fixedWeekCount){let e=i.startOfWeek(i.startOfMonth((0,s.addDays)(n.end,-1))),t=Math.ceil((0,s.diffWeeks)(e,o));o=(0,s.addWeeks)(o,6-t)}return{start:r,end:o}}({currentRange:n,snapToWeek:/^(year|month)$/.test(t),fixedWeekCount:r.fixedWeekCount,dateEnv:r.dateEnv})}};let TableView=class TableView extends s.DateComponent{constructor(){super(...arguments),this.headerElRef=(0,r.createRef)()}renderSimpleLayout(e,t){let{props:i,context:n}=this,o=[],l=(0,s.getStickyHeaderDates)(n.options);return e&&o.push({type:"header",key:"header",isSticky:l,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),o.push({type:"body",key:"body",liquid:!0,chunk:{content:t}}),(0,r.createElement)(s.ViewContainer,{elClasses:["fc-daygrid"],viewSpec:n.viewSpec},(0,r.createElement)(s.SimpleScrollGrid,{liquid:!i.isHeightAuto&&!i.forPrint,collapsibleWidth:i.forPrint,cols:[],sections:o}))}renderHScrollLayout(e,t,i,n){let o=this.context.pluginHooks.scrollGridImpl;if(!o)throw Error("No ScrollGrid implementation");let{props:l,context:a}=this,d=!l.forPrint&&(0,s.getStickyHeaderDates)(a.options),c=!l.forPrint&&(0,s.getStickyFooterScrollbar)(a.options),h=[];return e&&h.push({type:"header",key:"header",isSticky:d,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),h.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:t}]}),c&&h.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:s.renderScrollShim}]}),(0,r.createElement)(s.ViewContainer,{elClasses:["fc-daygrid"],viewSpec:a.viewSpec},(0,r.createElement)(o,{liquid:!l.isHeightAuto&&!l.forPrint,forPrint:l.forPrint,collapsibleWidth:l.forPrint,colGroups:[{cols:[{span:i,minWidth:n}]}],sections:h}))}};let DayTableView=class DayTableView extends TableView{constructor(){super(...arguments),this.buildDayTableModel=(0,s.memoize)(buildDayTableModel),this.headerRef=(0,r.createRef)(),this.tableRef=(0,r.createRef)()}render(){let{options:e,dateProfileGenerator:t}=this.context,{props:i}=this,n=this.buildDayTableModel(i.dateProfile,t),o=e.dayHeaders&&(0,r.createElement)(s.DayHeader,{ref:this.headerRef,dateProfile:i.dateProfile,dates:n.headerDates,datesRepDistinctDays:1===n.rowCnt}),bodyContent=t=>(0,r.createElement)(DayTable,{ref:this.tableRef,dateProfile:i.dateProfile,dayTableModel:n,businessHours:i.businessHours,dateSelection:i.dateSelection,eventStore:i.eventStore,eventUiBases:i.eventUiBases,eventSelection:i.eventSelection,eventDrag:i.eventDrag,eventResize:i.eventResize,nextDayThreshold:e.nextDayThreshold,colGroupNode:t.tableColGroupNode,tableMinWidth:t.tableMinWidth,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.weekNumbers,expandRows:!i.isHeightAuto,headerAlignElRef:this.headerElRef,clientWidth:t.clientWidth,clientHeight:t.clientHeight,forPrint:i.forPrint});return e.dayMinWidth?this.renderHScrollLayout(o,bodyContent,n.colCnt,e.dayMinWidth):this.renderSimpleLayout(o,bodyContent)}};function buildDayTableModel(e,t){let i=new s.DaySeriesModel(e.renderRange,t);return new s.DayTableModel(i,/year|month|week/.test(e.currentRangeUnit))}n()}catch(e){n(e)}})},8934:(e,t,i)=>{i.a(e,async(e,n)=>{try{i.d(t,{ZP:()=>l});var s=i(99151),r=i(43398),o=e([s,r]);[s,r]=o.then?(await o)():o,r.config.touchMouseIgnoreWait=500;let a=0,d=0,c=!1;let PointerDragging=class PointerDragging{constructor(e){this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=e=>{if(!this.shouldIgnoreMouse()&&function(e){return 0===e.button&&!e.ctrlKey}(e)&&this.tryStart(e)){let t=this.createEventFromMouse(e,!0);this.emitter.trigger("pointerdown",t),this.initScrollWatch(t),this.shouldIgnoreMove||document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)}},this.handleMouseMove=e=>{let t=this.createEventFromMouse(e);this.recordCoords(t),this.emitter.trigger("pointermove",t)},this.handleMouseUp=e=>{document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.emitter.trigger("pointerup",this.createEventFromMouse(e)),this.cleanup()},this.handleTouchStart=e=>{if(this.tryStart(e)){this.isTouchDragging=!0;let t=this.createEventFromTouch(e,!0);this.emitter.trigger("pointerdown",t),this.initScrollWatch(t);let i=e.target;this.shouldIgnoreMove||i.addEventListener("touchmove",this.handleTouchMove),i.addEventListener("touchend",this.handleTouchEnd),i.addEventListener("touchcancel",this.handleTouchEnd),window.addEventListener("scroll",this.handleTouchScroll,!0)}},this.handleTouchMove=e=>{let t=this.createEventFromTouch(e);this.recordCoords(t),this.emitter.trigger("pointermove",t)},this.handleTouchEnd=e=>{if(this.isDragging){let t=e.target;t.removeEventListener("touchmove",this.handleTouchMove),t.removeEventListener("touchend",this.handleTouchEnd),t.removeEventListener("touchcancel",this.handleTouchEnd),window.removeEventListener("scroll",this.handleTouchScroll,!0),this.emitter.trigger("pointerup",this.createEventFromTouch(e)),this.cleanup(),this.isTouchDragging=!1,a+=1,setTimeout(()=>{a-=1},r.config.touchMouseIgnoreWait)}},this.handleTouchScroll=()=>{this.wasTouchScroll=!0},this.handleScroll=e=>{if(!this.shouldIgnoreMove){let t=window.pageXOffset-this.prevScrollX+this.prevPageX,i=window.pageYOffset-this.prevScrollY+this.prevPageY;this.emitter.trigger("pointermove",{origEvent:e,isTouch:this.isTouchDragging,subjectEl:this.subjectEl,pageX:t,pageY:i,deltaX:t-this.origPageX,deltaY:i-this.origPageY})}},this.containerEl=e,this.emitter=new r.Emitter,e.addEventListener("mousedown",this.handleMouseDown),e.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),d+=1,1===d&&window.addEventListener("touchmove",onWindowTouchMove,{passive:!1})}destroy(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),(d-=1)||window.removeEventListener("touchmove",onWindowTouchMove,{passive:!1})}tryStart(e){let t=this.querySubjectEl(e),i=e.target;return!!(t&&(!this.handleSelector||(0,r.elementClosest)(i,this.handleSelector)))&&(this.subjectEl=t,this.isDragging=!0,this.wasTouchScroll=!1,!0)}cleanup(){c=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()}querySubjectEl(e){return this.selector?(0,r.elementClosest)(e.target,this.selector):this.containerEl}shouldIgnoreMouse(){return a||this.isTouchDragging}cancelTouchScroll(){this.isDragging&&(c=!0)}initScrollWatch(e){this.shouldWatchScroll&&(this.recordCoords(e),window.addEventListener("scroll",this.handleScroll,!0))}recordCoords(e){this.shouldWatchScroll&&(this.prevPageX=e.pageX,this.prevPageY=e.pageY,this.prevScrollX=window.pageXOffset,this.prevScrollY=window.pageYOffset)}destroyScrollWatch(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)}createEventFromMouse(e,t){let i=0,n=0;return t?(this.origPageX=e.pageX,this.origPageY=e.pageY):(i=e.pageX-this.origPageX,n=e.pageY-this.origPageY),{origEvent:e,isTouch:!1,subjectEl:this.subjectEl,pageX:e.pageX,pageY:e.pageY,deltaX:i,deltaY:n}}createEventFromTouch(e,t){let i,n,s=e.touches,r=0,o=0;return s&&s.length?(i=s[0].pageX,n=s[0].pageY):(i=e.pageX,n=e.pageY),t?(this.origPageX=i,this.origPageY=n):(r=i-this.origPageX,o=n-this.origPageY),{origEvent:e,isTouch:!0,subjectEl:this.subjectEl,pageX:i,pageY:n,deltaX:r,deltaY:o}}};function onWindowTouchMove(e){c&&e.preventDefault()}let ElementMirror=class ElementMirror{constructor(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}start(e,t,i){this.sourceEl=e,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=t-window.pageXOffset,this.origScreenY=i-window.pageYOffset,this.deltaX=0,this.deltaY=0,this.updateElPosition()}handleMove(e,t){this.deltaX=e-window.pageXOffset-this.origScreenX,this.deltaY=t-window.pageYOffset-this.origScreenY,this.updateElPosition()}setIsVisible(e){e?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=e,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=e)}stop(e,t){let done=()=>{this.cleanup(),t()};e&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(done,this.revertDuration):setTimeout(done,0)}doRevertAnimation(e,t){let i=this.mirrorEl,n=this.sourceEl.getBoundingClientRect();i.style.transition="top "+t+"ms,left "+t+"ms",(0,r.applyStyle)(i,{left:n.left,top:n.top}),(0,r.whenTransitionDone)(i,()=>{i.style.transition="",e()})}cleanup(){this.mirrorEl&&((0,r.removeElement)(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null}updateElPosition(){this.sourceEl&&this.isVisible&&(0,r.applyStyle)(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})}getMirrorEl(){let e=this.sourceElRect,t=this.mirrorEl;return t||((t=this.mirrorEl=this.sourceEl.cloneNode(!0)).style.userSelect="none",t.style.webkitUserSelect="none",t.classList.add("fc-event-dragging"),(0,r.applyStyle)(t,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:e.right-e.left,height:e.bottom-e.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(t)),t}};let ScrollGeomCache=class ScrollGeomCache extends r.ScrollController{constructor(e,t){super(),this.handleScroll=()=>{this.scrollTop=this.scrollController.getScrollTop(),this.scrollLeft=this.scrollController.getScrollLeft(),this.handleScrollChange()},this.scrollController=e,this.doesListening=t,this.scrollTop=this.origScrollTop=e.getScrollTop(),this.scrollLeft=this.origScrollLeft=e.getScrollLeft(),this.scrollWidth=e.getScrollWidth(),this.scrollHeight=e.getScrollHeight(),this.clientWidth=e.getClientWidth(),this.clientHeight=e.getClientHeight(),this.clientRect=this.computeClientRect(),this.doesListening&&this.getEventTarget().addEventListener("scroll",this.handleScroll)}destroy(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)}getScrollTop(){return this.scrollTop}getScrollLeft(){return this.scrollLeft}setScrollTop(e){this.scrollController.setScrollTop(e),this.doesListening||(this.scrollTop=Math.max(Math.min(e,this.getMaxScrollTop()),0),this.handleScrollChange())}setScrollLeft(e){this.scrollController.setScrollLeft(e),this.doesListening||(this.scrollLeft=Math.max(Math.min(e,this.getMaxScrollLeft()),0),this.handleScrollChange())}getClientWidth(){return this.clientWidth}getClientHeight(){return this.clientHeight}getScrollWidth(){return this.scrollWidth}getScrollHeight(){return this.scrollHeight}handleScrollChange(){}};let ElementScrollGeomCache=class ElementScrollGeomCache extends ScrollGeomCache{constructor(e,t){super(new r.ElementScrollController(e),t)}getEventTarget(){return this.scrollController.el}computeClientRect(){return(0,r.computeInnerRect)(this.scrollController.el)}};let WindowScrollGeomCache=class WindowScrollGeomCache extends ScrollGeomCache{constructor(e){super(new r.WindowScrollController,e)}getEventTarget(){return window}computeClientRect(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}}handleScrollChange(){this.clientRect=this.computeClientRect()}};let h="function"==typeof performance?performance.now:Date.now;let AutoScroller=class AutoScroller{constructor(){this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=()=>{if(this.isAnimating){let e=this.computeBestEdge(this.pointerScreenX+window.pageXOffset,this.pointerScreenY+window.pageYOffset);if(e){let t=h();this.handleSide(e,(t-this.msSinceRequest)/1e3),this.requestAnimation(t)}else this.isAnimating=!1}}}start(e,t,i){this.isEnabled&&(this.scrollCaches=this.buildCaches(i),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(e,t))}handleMove(e,t){if(this.isEnabled){let i=e-window.pageXOffset,n=t-window.pageYOffset,s=null===this.pointerScreenY?0:n-this.pointerScreenY,r=null===this.pointerScreenX?0:i-this.pointerScreenX;s<0?this.everMovedUp=!0:s>0&&(this.everMovedDown=!0),r<0?this.everMovedLeft=!0:r>0&&(this.everMovedRight=!0),this.pointerScreenX=i,this.pointerScreenY=n,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(h()))}}stop(){if(this.isEnabled){for(let e of(this.isAnimating=!1,this.scrollCaches))e.destroy();this.scrollCaches=null}}requestAnimation(e){this.msSinceRequest=e,requestAnimationFrame(this.animate)}handleSide(e,t){let{scrollCache:i}=e,{edgeThreshold:n}=this,s=n-e.distance,r=s*s/(n*n)*this.maxVelocity*t,o=1;switch(e.name){case"left":o=-1;case"right":i.setScrollLeft(i.getScrollLeft()+r*o);break;case"top":o=-1;case"bottom":i.setScrollTop(i.getScrollTop()+r*o)}}computeBestEdge(e,t){let{edgeThreshold:i}=this,n=null;for(let s of this.scrollCaches||[]){let r=s.clientRect,o=e-r.left,l=r.right-e,a=t-r.top,d=r.bottom-t;o>=0&&l>=0&&a>=0&&d>=0&&(a<=i&&this.everMovedUp&&s.canScrollUp()&&(!n||n.distance>a)&&(n={scrollCache:s,name:"top",distance:a}),d<=i&&this.everMovedDown&&s.canScrollDown()&&(!n||n.distance>d)&&(n={scrollCache:s,name:"bottom",distance:d}),o<=i&&this.everMovedLeft&&s.canScrollLeft()&&(!n||n.distance>o)&&(n={scrollCache:s,name:"left",distance:o}),l<=i&&this.everMovedRight&&s.canScrollRight()&&(!n||n.distance>l)&&(n={scrollCache:s,name:"right",distance:l}))}return n}buildCaches(e){return this.queryScrollEls(e).map(e=>e===window?new WindowScrollGeomCache(!1):new ElementScrollGeomCache(e,!1))}queryScrollEls(e){let t=[];for(let i of this.scrollQuery)"object"==typeof i?t.push(i):t.push(...Array.prototype.slice.call(e.getRootNode().querySelectorAll(i)));return t}};let FeaturefulElementDragging=class FeaturefulElementDragging extends r.ElementDragging{constructor(e,t){super(e),this.containerEl=e,this.delay=null,this.minDistance=0,this.touchScrollAllowed=!0,this.mirrorNeedsRevert=!1,this.isInteracting=!1,this.isDragging=!1,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.delayTimeoutId=null,this.onPointerDown=e=>{this.isDragging||(this.isInteracting=!0,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,(0,r.preventSelection)(document.body),(0,r.preventContextMenu)(document.body),e.isTouch||e.origEvent.preventDefault(),this.emitter.trigger("pointerdown",e),!this.isInteracting||this.pointer.shouldIgnoreMove||(this.mirror.setIsVisible(!1),this.mirror.start(e.subjectEl,e.pageX,e.pageY),this.startDelay(e),this.minDistance||this.handleDistanceSurpassed(e)))},this.onPointerMove=e=>{if(this.isInteracting){if(this.emitter.trigger("pointermove",e),!this.isDistanceSurpassed){let t=this.minDistance,{deltaX:i,deltaY:n}=e;i*i+n*n>=t*t&&this.handleDistanceSurpassed(e)}this.isDragging&&("scroll"!==e.origEvent.type&&(this.mirror.handleMove(e.pageX,e.pageY),this.autoScroller.handleMove(e.pageX,e.pageY)),this.emitter.trigger("dragmove",e))}},this.onPointerUp=e=>{this.isInteracting&&(this.isInteracting=!1,(0,r.allowSelection)(document.body),(0,r.allowContextMenu)(document.body),this.emitter.trigger("pointerup",e),this.isDragging&&(this.autoScroller.stop(),this.tryStopDrag(e)),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null))};let i=this.pointer=new PointerDragging(e);i.emitter.on("pointerdown",this.onPointerDown),i.emitter.on("pointermove",this.onPointerMove),i.emitter.on("pointerup",this.onPointerUp),t&&(i.selector=t),this.mirror=new ElementMirror,this.autoScroller=new AutoScroller}destroy(){this.pointer.destroy(),this.onPointerUp({})}startDelay(e){"number"==typeof this.delay?this.delayTimeoutId=setTimeout(()=>{this.delayTimeoutId=null,this.handleDelayEnd(e)},this.delay):this.handleDelayEnd(e)}handleDelayEnd(e){this.isDelayEnded=!0,this.tryStartDrag(e)}handleDistanceSurpassed(e){this.isDistanceSurpassed=!0,this.tryStartDrag(e)}tryStartDrag(e){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(e.pageX,e.pageY,this.containerEl),this.emitter.trigger("dragstart",e),!1===this.touchScrollAllowed&&this.pointer.cancelTouchScroll())}tryStopDrag(e){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,e))}stopDrag(e){this.isDragging=!1,this.emitter.trigger("dragend",e)}setIgnoreMove(e){this.pointer.shouldIgnoreMove=e}setMirrorIsVisible(e){this.mirror.setIsVisible(e)}setMirrorNeedsRevert(e){this.mirrorNeedsRevert=e}setAutoScrollEnabled(e){this.autoScroller.isEnabled=e}};let OffsetTracker=class OffsetTracker{constructor(e){this.origRect=(0,r.computeRect)(e),this.scrollCaches=(0,r.getClippingParents)(e).map(e=>new ElementScrollGeomCache(e,!0))}destroy(){for(let e of this.scrollCaches)e.destroy()}computeLeft(){let e=this.origRect.left;for(let t of this.scrollCaches)e+=t.origScrollLeft-t.getScrollLeft();return e}computeTop(){let e=this.origRect.top;for(let t of this.scrollCaches)e+=t.origScrollTop-t.getScrollTop();return e}isWithinClipping(e,t){let i={left:e,top:t};for(let e of this.scrollCaches)if(!function(e){let t=e.tagName;return"HTML"===t||"BODY"===t}(e.getEventTarget())&&!(0,r.pointInsideRect)(i,e.clientRect))return!1;return!0}};let HitDragging=class HitDragging{constructor(e,t){this.useSubjectCenter=!1,this.requireInitial=!0,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=e=>{let{dragging:t}=this;this.initialHit=null,this.movingHit=null,this.finalHit=null,this.prepareHits(),this.processFirstCoord(e),this.initialHit||!this.requireInitial?(t.setIgnoreMove(!1),this.emitter.trigger("pointerdown",e)):t.setIgnoreMove(!0)},this.handleDragStart=e=>{this.emitter.trigger("dragstart",e),this.handleMove(e,!0)},this.handleDragMove=e=>{this.emitter.trigger("dragmove",e),this.handleMove(e)},this.handlePointerUp=e=>{this.releaseHits(),this.emitter.trigger("pointerup",e)},this.handleDragEnd=e=>{this.movingHit&&this.emitter.trigger("hitupdate",null,!0,e),this.finalHit=this.movingHit,this.movingHit=null,this.emitter.trigger("dragend",e)},this.droppableStore=t,e.emitter.on("pointerdown",this.handlePointerDown),e.emitter.on("dragstart",this.handleDragStart),e.emitter.on("dragmove",this.handleDragMove),e.emitter.on("pointerup",this.handlePointerUp),e.emitter.on("dragend",this.handleDragEnd),this.dragging=e,this.emitter=new r.Emitter}processFirstCoord(e){let t,i={left:e.pageX,top:e.pageY},n=i,s=e.subjectEl;s instanceof HTMLElement&&(t=(0,r.computeRect)(s),n=(0,r.constrainPoint)(n,t));let o=this.initialHit=this.queryHitForOffset(n.left,n.top);if(o){if(this.useSubjectCenter&&t){let e=(0,r.intersectRects)(t,o.rect);e&&(n=(0,r.getRectCenter)(e))}this.coordAdjust=(0,r.diffPoints)(n,i)}else this.coordAdjust={left:0,top:0}}handleMove(e,t){let i=this.queryHitForOffset(e.pageX+this.coordAdjust.left,e.pageY+this.coordAdjust.top);(t||!isHitsEqual(this.movingHit,i))&&(this.movingHit=i,this.emitter.trigger("hitupdate",i,!1,e))}prepareHits(){this.offsetTrackers=(0,r.mapHash)(this.droppableStore,e=>(e.component.prepareHits(),new OffsetTracker(e.el)))}releaseHits(){let{offsetTrackers:e}=this;for(let t in e)e[t].destroy();this.offsetTrackers={}}queryHitForOffset(e,t){let{droppableStore:i,offsetTrackers:n}=this,s=null;for(let o in i){let l=i[o].component,a=n[o];if(a&&a.isWithinClipping(e,t)){let i=a.computeLeft(),n=a.computeTop(),d=e-i,c=t-n,{origRect:h}=a,g=h.right-h.left,u=h.bottom-h.top;if(d>=0&&d<g&&c>=0&&c<u){let e=l.queryHit(d,c,g,u);e&&(0,r.rangeContainsRange)(e.dateProfile.activeRange,e.dateSpan.range)&&(!s||e.layer>s.layer)&&(e.componentId=o,e.context=l.context,e.rect.left+=i,e.rect.right+=i,e.rect.top+=n,e.rect.bottom+=n,s=e)}}}return s}};function isHitsEqual(e,t){return!e&&!t||!!e==!!t&&(0,r.isDateSpansEqual)(e.dateSpan,t.dateSpan)}function buildDatePointApiWithContext(e,t){var i;let n={};for(let i of t.pluginHooks.datePointTransforms)Object.assign(n,i(e,t));return Object.assign(n,{date:(i=t.dateEnv).toDate(e.range.start),dateStr:i.formatIso(e.range.start,{omitTime:e.allDay}),allDay:e.allDay}),n}let DateClicking=class DateClicking extends r.Interaction{constructor(e){super(e),this.handlePointerDown=e=>{let{dragging:t}=this,i=e.origEvent.target;t.setIgnoreMove(!this.component.isValidDateDownEl(i))},this.handleDragEnd=e=>{let{component:t}=this,{pointer:i}=this.dragging;if(!i.wasTouchScroll){let{initialHit:i,finalHit:n}=this.hitDragging;if(i&&n&&isHitsEqual(i,n)){let{context:n}=t,s=Object.assign(Object.assign({},buildDatePointApiWithContext(i.dateSpan,n)),{dayEl:i.dayEl,jsEvent:e.origEvent,view:n.viewApi||n.calendarApi.view});n.emitter.trigger("dateClick",s)}}},this.dragging=new FeaturefulElementDragging(e.el),this.dragging.autoScroller.isEnabled=!1;let t=this.hitDragging=new HitDragging(this.dragging,(0,r.interactionSettingsToStore)(e));t.emitter.on("pointerdown",this.handlePointerDown),t.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}};let DateSelecting=class DateSelecting extends r.Interaction{constructor(e){super(e),this.dragSelection=null,this.handlePointerDown=e=>{let{component:t,dragging:i}=this,{options:n}=t.context,s=n.selectable&&t.isValidDateDownEl(e.origEvent.target);i.setIgnoreMove(!s),i.delay=e.isTouch?function(e){let{options:t}=e.context,i=t.selectLongPressDelay;return null==i&&(i=t.longPressDelay),i}(t):null},this.handleDragStart=e=>{this.component.context.calendarApi.unselect(e)},this.handleHitUpdate=(e,t)=>{let{context:i}=this.component,n=null,s=!1;if(e){let t=this.hitDragging.initialHit;e.componentId===t.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(t,e)||(n=function(e,t,i){let n=e.dateSpan,s=t.dateSpan,o=[n.range.start,n.range.end,s.range.start,s.range.end];o.sort(r.compareNumbers);let l={};for(let n of i){let i=n(e,t);if(!1===i)return null;i&&Object.assign(l,i)}return l.range={start:o[0],end:o[3]},l.allDay=n.allDay,l}(t,e,i.pluginHooks.dateSelectionTransformers)),n&&(0,r.isDateSelectionValid)(n,e.dateProfile,i)||(s=!0,n=null)}n?i.dispatch({type:"SELECT_DATES",selection:n}):t||i.dispatch({type:"UNSELECT_DATES"}),s?(0,r.disableCursor)():(0,r.enableCursor)(),t||(this.dragSelection=n)},this.handlePointerUp=e=>{this.dragSelection&&((0,r.triggerDateSelect)(this.dragSelection,e,this.component.context),this.dragSelection=null)};let{component:t}=e,{options:i}=t.context,n=this.dragging=new FeaturefulElementDragging(e.el);n.touchScrollAllowed=!1,n.minDistance=i.selectMinDistance||0,n.autoScroller.isEnabled=i.dragScroll;let s=this.hitDragging=new HitDragging(this.dragging,(0,r.interactionSettingsToStore)(e));s.emitter.on("pointerdown",this.handlePointerDown),s.emitter.on("dragstart",this.handleDragStart),s.emitter.on("hitupdate",this.handleHitUpdate),s.emitter.on("pointerup",this.handlePointerUp)}destroy(){this.dragging.destroy()}};let EventDragging=class EventDragging extends r.Interaction{constructor(e){super(e),this.subjectEl=null,this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=e=>{let t=e.origEvent.target,{component:i,dragging:n}=this,{mirror:s}=n,{options:o}=i.context,l=i.context;this.subjectEl=e.subjectEl;let a=this.subjectSeg=(0,r.getElSeg)(e.subjectEl),d=(this.eventRange=a.eventRange).instance.instanceId;this.relevantEvents=(0,r.getRelevantEvents)(l.getCurrentData().eventStore,d),n.minDistance=e.isTouch?0:o.eventDragMinDistance,n.delay=e.isTouch&&d!==i.props.eventSelection?function(e){let{options:t}=e.context,i=t.eventLongPressDelay;return null==i&&(i=t.longPressDelay),i}(i):null,o.fixedMirrorParent?s.parentNode=o.fixedMirrorParent:s.parentNode=(0,r.elementClosest)(t,".fc"),s.revertDuration=o.dragRevertDuration;let c=i.isValidSegDownEl(t)&&!(0,r.elementClosest)(t,".fc-event-resizer");n.setIgnoreMove(!c),this.isDragging=c&&e.subjectEl.classList.contains("fc-event-draggable")},this.handleDragStart=e=>{let t=this.component.context,i=this.eventRange,n=i.instance.instanceId;e.isTouch?n!==this.component.props.eventSelection&&t.dispatch({type:"SELECT_EVENT",eventInstanceId:n}):t.dispatch({type:"UNSELECT_EVENT"}),this.isDragging&&(t.calendarApi.unselect(e),t.emitter.trigger("eventDragStart",{el:this.subjectEl,event:new r.EventImpl(t,i.def,i.instance),jsEvent:e.origEvent,view:t.viewApi}))},this.handleHitUpdate=(e,t)=>{if(!this.isDragging)return;let i=this.relevantEvents,n=this.hitDragging.initialHit,s=this.component.context,o=null,l=null,a=null,d=!1,c={affectedEvents:i,mutatedEvents:(0,r.createEmptyEventStore)(),isEvent:!0};if(e){let t=(o=e.context).options;s===o||t.editable&&t.droppable?(l=function(e,t,i){let n=e.dateSpan,s=t.dateSpan,o=n.range.start,l=s.range.start,a={};n.allDay!==s.allDay&&(a.allDay=s.allDay,a.hasEnd=t.context.options.allDayMaintainDuration,s.allDay&&(o=(0,r.startOfDay)(o)));let d=(0,r.diffDates)(o,l,e.context.dateEnv,e.componentId===t.componentId?e.largeUnit:null);d.milliseconds&&(a.allDay=!1);let c={datesDelta:d,standardProps:a};for(let n of i)n(c,e,t);return c}(n,e,o.getCurrentData().pluginHooks.eventDragMutationMassagers))&&(a=(0,r.applyMutationToEventStore)(i,o.getCurrentData().eventUiBases,l,o),c.mutatedEvents=a,(0,r.isInteractionValid)(c,e.dateProfile,o)||(d=!0,l=null,a=null,c.mutatedEvents=(0,r.createEmptyEventStore)())):o=null}this.displayDrag(o,c),d?(0,r.disableCursor)():(0,r.enableCursor)(),t||(s===o&&isHitsEqual(n,e)&&(l=null),this.dragging.setMirrorNeedsRevert(!l),this.dragging.setMirrorIsVisible(!e||!this.subjectEl.getRootNode().querySelector(".fc-event-mirror")),this.receivingContext=o,this.validMutation=l,this.mutatedRelevantEvents=a)},this.handlePointerUp=()=>{this.isDragging||this.cleanup()},this.handleDragEnd=e=>{if(this.isDragging){let t=this.component.context,i=t.viewApi,{receivingContext:n,validMutation:s}=this,o=this.eventRange.def,l=this.eventRange.instance,a=new r.EventImpl(t,o,l),d=this.relevantEvents,c=this.mutatedRelevantEvents,{finalHit:h}=this.hitDragging;if(this.clearDrag(),t.emitter.trigger("eventDragStop",{el:this.subjectEl,event:a,jsEvent:e.origEvent,view:i}),s){if(n===t){let n=new r.EventImpl(t,c.defs[o.defId],l?c.instances[l.instanceId]:null);t.dispatch({type:"MERGE_EVENTS",eventStore:c});let h={oldEvent:a,event:n,relatedEvents:(0,r.buildEventApis)(c,t,l),revert(){t.dispatch({type:"MERGE_EVENTS",eventStore:d})}},g={};for(let e of t.getCurrentData().pluginHooks.eventDropTransformers)Object.assign(g,e(s,t));t.emitter.trigger("eventDrop",Object.assign(Object.assign(Object.assign({},h),g),{el:e.subjectEl,delta:s.datesDelta,jsEvent:e.origEvent,view:i})),t.emitter.trigger("eventChange",h)}else if(n){let s={event:a,relatedEvents:(0,r.buildEventApis)(d,t,l),revert(){t.dispatch({type:"MERGE_EVENTS",eventStore:d})}};t.emitter.trigger("eventLeave",Object.assign(Object.assign({},s),{draggedEl:e.subjectEl,view:i})),t.dispatch({type:"REMOVE_EVENTS",eventStore:d}),t.emitter.trigger("eventRemove",s);let g=c.defs[o.defId],u=c.instances[l.instanceId],m=new r.EventImpl(n,g,u);n.dispatch({type:"MERGE_EVENTS",eventStore:c});let f={event:m,relatedEvents:(0,r.buildEventApis)(c,n,u),revert(){n.dispatch({type:"REMOVE_EVENTS",eventStore:c})}};n.emitter.trigger("eventAdd",f),e.isTouch&&n.dispatch({type:"SELECT_EVENT",eventInstanceId:l.instanceId}),n.emitter.trigger("drop",Object.assign(Object.assign({},buildDatePointApiWithContext(h.dateSpan,n)),{draggedEl:e.subjectEl,jsEvent:e.origEvent,view:h.context.viewApi})),n.emitter.trigger("eventReceive",Object.assign(Object.assign({},f),{draggedEl:e.subjectEl,view:h.context.viewApi}))}}else t.emitter.trigger("_noEventDrop")}this.cleanup()};let{component:t}=this,{options:i}=t.context,n=this.dragging=new FeaturefulElementDragging(e.el);n.pointer.selector=EventDragging.SELECTOR,n.touchScrollAllowed=!1,n.autoScroller.isEnabled=i.dragScroll;let s=this.hitDragging=new HitDragging(this.dragging,r.interactionSettingsStore);s.useSubjectCenter=e.useEventCenter,s.emitter.on("pointerdown",this.handlePointerDown),s.emitter.on("dragstart",this.handleDragStart),s.emitter.on("hitupdate",this.handleHitUpdate),s.emitter.on("pointerup",this.handlePointerUp),s.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}displayDrag(e,t){let i=this.component.context,n=this.receivingContext;n&&n!==e&&(n===i?n.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:t.affectedEvents,mutatedEvents:(0,r.createEmptyEventStore)(),isEvent:!0}}):n.dispatch({type:"UNSET_EVENT_DRAG"})),e&&e.dispatch({type:"SET_EVENT_DRAG",state:t})}clearDrag(){let e=this.component.context,{receivingContext:t}=this;t&&t.dispatch({type:"UNSET_EVENT_DRAG"}),e!==t&&e.dispatch({type:"UNSET_EVENT_DRAG"})}cleanup(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null}};EventDragging.SELECTOR=".fc-event-draggable, .fc-event-resizable";let EventResizing=class EventResizing extends r.Interaction{constructor(e){super(e),this.draggingSegEl=null,this.draggingSeg=null,this.eventRange=null,this.relevantEvents=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=e=>{let{component:t}=this,i=this.querySegEl(e),n=(0,r.getElSeg)(i),s=this.eventRange=n.eventRange;this.dragging.minDistance=t.context.options.eventDragMinDistance,this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(e.origEvent.target)||e.isTouch&&this.component.props.eventSelection!==s.instance.instanceId)},this.handleDragStart=e=>{let{context:t}=this.component,i=this.eventRange;this.relevantEvents=(0,r.getRelevantEvents)(t.getCurrentData().eventStore,this.eventRange.instance.instanceId);let n=this.querySegEl(e);this.draggingSegEl=n,this.draggingSeg=(0,r.getElSeg)(n),t.calendarApi.unselect(),t.emitter.trigger("eventResizeStart",{el:n,event:new r.EventImpl(t,i.def,i.instance),jsEvent:e.origEvent,view:t.viewApi})},this.handleHitUpdate=(e,t,i)=>{let{context:n}=this.component,s=this.relevantEvents,o=this.hitDragging.initialHit,l=this.eventRange.instance,a=null,d=null,c=!1,h={affectedEvents:s,mutatedEvents:(0,r.createEmptyEventStore)(),isEvent:!0};e&&!(e.componentId===o.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(o,e))&&(a=function(e,t,i,n){let s=e.context.dateEnv,o=e.dateSpan.range.start,l=t.dateSpan.range.start,a=(0,r.diffDates)(o,l,s,e.largeUnit);if(i){if(s.add(n.start,a)<n.end)return{startDelta:a}}else if(s.add(n.end,a)>n.start)return{endDelta:a};return null}(o,e,i.subjectEl.classList.contains("fc-event-resizer-start"),l.range)),a&&(d=(0,r.applyMutationToEventStore)(s,n.getCurrentData().eventUiBases,a,n),h.mutatedEvents=d,(0,r.isInteractionValid)(h,e.dateProfile,n)||(c=!0,a=null,d=null,h.mutatedEvents=null)),d?n.dispatch({type:"SET_EVENT_RESIZE",state:h}):n.dispatch({type:"UNSET_EVENT_RESIZE"}),c?(0,r.disableCursor)():(0,r.enableCursor)(),t||(a&&isHitsEqual(o,e)&&(a=null),this.validMutation=a,this.mutatedRelevantEvents=d)},this.handleDragEnd=e=>{let{context:t}=this.component,i=this.eventRange.def,n=this.eventRange.instance,s=new r.EventImpl(t,i,n),o=this.relevantEvents,l=this.mutatedRelevantEvents;if(t.emitter.trigger("eventResizeStop",{el:this.draggingSegEl,event:s,jsEvent:e.origEvent,view:t.viewApi}),this.validMutation){let a=new r.EventImpl(t,l.defs[i.defId],n?l.instances[n.instanceId]:null);t.dispatch({type:"MERGE_EVENTS",eventStore:l});let d={oldEvent:s,event:a,relatedEvents:(0,r.buildEventApis)(l,t,n),revert(){t.dispatch({type:"MERGE_EVENTS",eventStore:o})}};t.emitter.trigger("eventResize",Object.assign(Object.assign({},d),{el:this.draggingSegEl,startDelta:this.validMutation.startDelta||(0,r.createDuration)(0),endDelta:this.validMutation.endDelta||(0,r.createDuration)(0),jsEvent:e.origEvent,view:t.viewApi})),t.emitter.trigger("eventChange",d)}else t.emitter.trigger("_noEventResize");this.draggingSeg=null,this.relevantEvents=null,this.validMutation=null};let{component:t}=e,i=this.dragging=new FeaturefulElementDragging(e.el);i.pointer.selector=".fc-event-resizer",i.touchScrollAllowed=!1,i.autoScroller.isEnabled=t.context.options.dragScroll;let n=this.hitDragging=new HitDragging(this.dragging,(0,r.interactionSettingsToStore)(e));n.emitter.on("pointerdown",this.handlePointerDown),n.emitter.on("dragstart",this.handleDragStart),n.emitter.on("hitupdate",this.handleHitUpdate),n.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}querySegEl(e){return(0,r.elementClosest)(e.subjectEl,".fc-event")}};let g={fixedMirrorParent:r.identity},u={dateClick:r.identity,eventDragStart:r.identity,eventDragStop:r.identity,eventDrop:r.identity,eventResizeStart:r.identity,eventResizeStop:r.identity,eventResize:r.identity,drop:r.identity,eventReceive:r.identity,eventLeave:r.identity};r.config.dataAttrPrefix="";var l=(0,s.createPlugin)({name:"@fullcalendar/interaction",componentInteractions:[DateClicking,DateSelecting,EventDragging,EventResizing],calendarInteractions:[class{constructor(e){this.context=e,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=e=>{e.jsEvent&&(this.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=e=>{let t=this.context.options.unselectCancel,i=(0,r.getEventTargetViaRoot)(e.origEvent);this.matchesCancel=!!(0,r.elementClosest)(i,t),this.matchesEvent=!!(0,r.elementClosest)(i,EventDragging.SELECTOR)},this.onDocumentPointerUp=e=>{let{context:t}=this,{documentPointer:i}=this,n=t.getCurrentData();if(!i.wasTouchScroll){if(n.dateSelection&&!this.isRecentPointerDateSelect){let i=t.options.unselectAuto;!i||i&&this.matchesCancel||t.calendarApi.unselect(e)}n.eventSelection&&!this.matchesEvent&&t.dispatch({type:"UNSELECT_EVENT"})}this.isRecentPointerDateSelect=!1};let t=this.documentPointer=new PointerDragging(document);t.shouldIgnoreMove=!0,t.shouldWatchScroll=!1,t.emitter.on("pointerdown",this.onDocumentPointerDown),t.emitter.on("pointerup",this.onDocumentPointerUp),e.emitter.on("select",this.onSelect)}destroy(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()}}],elementDraggingImpl:FeaturefulElementDragging,optionRefiners:g,listenerRefiners:u});n()}catch(e){n(e)}})},76622:(e,t,i)=>{i.a(e,async(e,n)=>{try{i.d(t,{Z:()=>FullCalendar});var s=i(16689),r=i.n(s),o=i(66405),l=i(99405),a=i(98685),d=e([l,a]);[l,a]=d.then?(await d)():d;let c=parseInt(String(r().version).split(".")[0]),h=c<18;let FullCalendar=class FullCalendar extends s.Component{constructor(){super(...arguments),this.elRef=(0,s.createRef)(),this.isUpdating=!1,this.isUnmounting=!1,this.state={customRenderingMap:new Map},this.requestResize=()=>{this.isUnmounting||(this.cancelResize(),this.resizeId=requestAnimationFrame(()=>{this.doResize()}))}}render(){let e=[];for(let t of this.state.customRenderingMap.values())e.push(r().createElement(CustomRenderingComponent,{key:t.id,customRendering:t}));return r().createElement("div",{ref:this.elRef},e)}componentDidMount(){let e;let t=new a.CustomRenderingStore;this.handleCustomRendering=t.handle.bind(t),this.calendar=new l.Calendar(this.elRef.current,Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.calendar.render(),t.subscribe(t=>{let i=Date.now(),n=!e,s=h||n||this.isUpdating||this.isUnmounting||i-e<100?runNow:o.flushSync;s(()=>{this.setState({customRenderingMap:t},()=>{e=i,n?this.doResize():this.requestResize()})})})}componentDidUpdate(){this.isUpdating=!0,this.calendar.resetOptions(Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.isUpdating=!1}componentWillUnmount(){this.isUnmounting=!0,this.cancelResize(),this.calendar.destroy()}doResize(){this.calendar.updateSize()}cancelResize(){void 0!==this.resizeId&&(cancelAnimationFrame(this.resizeId),this.resizeId=void 0)}getApi(){return this.calendar}};FullCalendar.act=runNow;let CustomRenderingComponent=class CustomRenderingComponent extends s.PureComponent{render(){let{customRendering:e}=this.props,{generatorMeta:t}=e,i="function"==typeof t?t(e.renderProps):t;return(0,o.createPortal)(i,e.containerEl)}};function runNow(e){e()}n()}catch(e){n(e)}})},77586:(e,t,i)=>{i.a(e,async(e,n)=>{try{i.d(t,{Z:()=>d});var s=i(99151),r=i(59122),o=i(43398),l=i(93544),a=e([s,o,l,r]);[s,o,l,r]=a.then?(await a)():a;var d=(0,s.createPlugin)({name:"@fullcalendar/timegrid",initialView:"timeGridWeek",optionRefiners:{allDaySlot:Boolean},views:{timeGrid:{component:r.AN,usesMinMaxTime:!0,allDaySlot:!0,slotDuration:"00:30:00",slotEventOverlap:!0},timeGridDay:{type:"timeGrid",duration:{days:1}},timeGridWeek:{type:"timeGrid",duration:{weeks:1}}}});n()}catch(e){n(e)}})},59122:(e,t,i)=>{i.a(e,async(e,n)=>{try{i.d(t,{AN:()=>DayTimeColsView});var s=i(43398),r=i(93544),o=i(95546),l=e([s,r,o]);[s,r,o]=l.then?(await l)():l,(0,s.injectStyles)('.fc-v-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-v-event .fc-event-main{color:var(--fc-event-text-color);height:100%}.fc-v-event .fc-event-main-frame{display:flex;flex-direction:column;height:100%}.fc-v-event .fc-event-time{flex-grow:0;flex-shrink:0;max-height:100%;overflow:hidden}.fc-v-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-height:0}.fc-v-event .fc-event-title{bottom:0;max-height:100%;overflow:hidden;top:0}.fc-v-event:not(.fc-event-start){border-top-left-radius:0;border-top-right-radius:0;border-top-width:0}.fc-v-event:not(.fc-event-end){border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-width:0}.fc-v-event.fc-event-selected:before{left:-10px;right:-10px}.fc-v-event .fc-event-resizer-start{cursor:n-resize}.fc-v-event .fc-event-resizer-end{cursor:s-resize}.fc-v-event:not(.fc-event-selected) .fc-event-resizer{height:var(--fc-event-resizer-thickness);left:0;right:0}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start{top:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer{left:50%;margin-left:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-start{top:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc .fc-timegrid .fc-daygrid-body{z-index:2}.fc .fc-timegrid-divider{padding:0 0 2px}.fc .fc-timegrid-body{min-height:100%;position:relative;z-index:1}.fc .fc-timegrid-axis-chunk{position:relative}.fc .fc-timegrid-axis-chunk>table,.fc .fc-timegrid-slots{position:relative;z-index:1}.fc .fc-timegrid-slot{border-bottom:0;height:1.5em}.fc .fc-timegrid-slot:empty:before{content:"\\00a0"}.fc .fc-timegrid-slot-minor{border-top-style:dotted}.fc .fc-timegrid-slot-label-cushion{display:inline-block;white-space:nowrap}.fc .fc-timegrid-slot-label{vertical-align:middle}.fc .fc-timegrid-axis-cushion,.fc .fc-timegrid-slot-label-cushion{padding:0 4px}.fc .fc-timegrid-axis-frame-liquid{height:100%}.fc .fc-timegrid-axis-frame{align-items:center;display:flex;justify-content:flex-end;overflow:hidden}.fc .fc-timegrid-axis-cushion{flex-shrink:0;max-width:60px}.fc-direction-ltr .fc-timegrid-slot-label-frame{text-align:right}.fc-direction-rtl .fc-timegrid-slot-label-frame{text-align:left}.fc-liquid-hack .fc-timegrid-axis-frame-liquid{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-timegrid-col-frame{min-height:100%;position:relative}.fc-media-screen.fc-liquid-hack .fc-timegrid-col-frame{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols{bottom:0;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols>table{height:100%}.fc-media-screen .fc-timegrid-col-bg,.fc-media-screen .fc-timegrid-col-events,.fc-media-screen .fc-timegrid-now-indicator-container{left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col-bg{z-index:2}.fc .fc-timegrid-col-bg .fc-non-business{z-index:1}.fc .fc-timegrid-col-bg .fc-bg-event{z-index:2}.fc .fc-timegrid-col-bg .fc-highlight{z-index:3}.fc .fc-timegrid-bg-harness{left:0;position:absolute;right:0}.fc .fc-timegrid-col-events{z-index:3}.fc .fc-timegrid-now-indicator-container{bottom:0;overflow:hidden}.fc-direction-ltr .fc-timegrid-col-events{margin:0 2.5% 0 2px}.fc-direction-rtl .fc-timegrid-col-events{margin:0 2px 0 2.5%}.fc-timegrid-event-harness{position:absolute}.fc-timegrid-event-harness>.fc-timegrid-event{bottom:0;left:0;position:absolute;right:0;top:0}.fc-timegrid-event-harness-inset .fc-timegrid-event,.fc-timegrid-event.fc-event-mirror,.fc-timegrid-more-link{box-shadow:0 0 0 1px var(--fc-page-bg-color)}.fc-timegrid-event,.fc-timegrid-more-link{border-radius:3px;font-size:var(--fc-small-font-size)}.fc-timegrid-event{margin-bottom:1px}.fc-timegrid-event .fc-event-main{padding:1px 1px 0}.fc-timegrid-event .fc-event-time{font-size:var(--fc-small-font-size);margin-bottom:1px;white-space:nowrap}.fc-timegrid-event-short .fc-event-main-frame{flex-direction:row;overflow:hidden}.fc-timegrid-event-short .fc-event-time:after{content:"\\00a0-\\00a0"}.fc-timegrid-event-short .fc-event-title{font-size:var(--fc-small-font-size)}.fc-timegrid-more-link{background:var(--fc-more-link-bg-color);color:var(--fc-more-link-text-color);cursor:pointer;margin-bottom:1px;position:absolute;z-index:9999}.fc-timegrid-more-link-inner{padding:3px 2px;top:0}.fc-direction-ltr .fc-timegrid-more-link{right:0}.fc-direction-rtl .fc-timegrid-more-link{left:0}.fc .fc-timegrid-now-indicator-line{border-color:var(--fc-now-indicator-color);border-style:solid;border-width:1px 0 0;left:0;position:absolute;right:0;z-index:4}.fc .fc-timegrid-now-indicator-arrow{border-color:var(--fc-now-indicator-color);border-style:solid;margin-top:-5px;position:absolute;z-index:4}.fc-direction-ltr .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 0 5px 6px;left:0}.fc-direction-rtl .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 6px 5px 0;right:0}');let AllDaySplitter=class AllDaySplitter extends s.Splitter{getKeyInfo(){return{allDay:{},timed:{}}}getKeysForDateSpan(e){return e.allDay?["allDay"]:["timed"]}getKeysForEventDef(e){return e.allDay?(0,s.hasBgRendering)(e)?["timed","allDay"]:["allDay"]:["timed"]}};let a=(0,s.createFormatter)({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"});function TimeColsAxisCell(e){let t=["fc-timegrid-slot","fc-timegrid-slot-label",e.isLabeled?"fc-scrollgrid-shrink":"fc-timegrid-slot-minor"];return(0,r.createElement)(s.ViewContextType.Consumer,null,i=>{if(!e.isLabeled)return(0,r.createElement)("td",{className:t.join(" "),"data-time":e.isoTimeStr});let{dateEnv:n,options:o,viewApi:l}=i,d=null==o.slotLabelFormat?a:Array.isArray(o.slotLabelFormat)?(0,s.createFormatter)(o.slotLabelFormat[0]):(0,s.createFormatter)(o.slotLabelFormat),c={level:0,time:e.time,date:n.toDate(e.date),view:l,text:n.format(e.date,d)};return(0,r.createElement)(s.ContentContainer,{elTag:"td",elClasses:t,elAttrs:{"data-time":e.isoTimeStr},renderProps:c,generatorName:"slotLabelContent",customGenerator:o.slotLabelContent,defaultGenerator:renderInnerContent,classNameGenerator:o.slotLabelClassNames,didMount:o.slotLabelDidMount,willUnmount:o.slotLabelWillUnmount},e=>(0,r.createElement)("div",{className:"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame"},(0,r.createElement)(e,{elTag:"div",elClasses:["fc-timegrid-slot-label-cushion","fc-scrollgrid-shrink-cushion"]})))})}function renderInnerContent(e){return e.text}let TimeBodyAxis=class TimeBodyAxis extends s.BaseComponent{render(){return this.props.slatMetas.map(e=>(0,r.createElement)("tr",{key:e.key},(0,r.createElement)(TimeColsAxisCell,Object.assign({},e))))}};let d=(0,s.createFormatter)({week:"short"});let TimeColsView=class TimeColsView extends s.DateComponent{constructor(){super(...arguments),this.allDaySplitter=new AllDaySplitter,this.headerElRef=(0,r.createRef)(),this.rootElRef=(0,r.createRef)(),this.scrollerElRef=(0,r.createRef)(),this.state={slatCoords:null},this.handleScrollTopRequest=e=>{let t=this.scrollerElRef.current;t&&(t.scrollTop=e)},this.renderHeadAxis=(e,t="")=>{let{options:i}=this.context,{dateProfile:n}=this.props,o=n.renderRange,l=(0,s.diffDays)(o.start,o.end),a=1===l?(0,s.buildNavLinkAttrs)(this.context,o.start,"week"):{};return i.weekNumbers&&"day"===e?(0,r.createElement)(s.WeekNumberContainer,{elTag:"th",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},date:o.start,defaultFormat:d},e=>(0,r.createElement)("div",{className:"fc-timegrid-axis-frame fc-scrollgrid-shrink-frame fc-timegrid-axis-frame-liquid",style:{height:t}},(0,r.createElement)(e,{elTag:"a",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"],elAttrs:a}))):(0,r.createElement)("th",{"aria-hidden":!0,className:"fc-timegrid-axis"},(0,r.createElement)("div",{className:"fc-timegrid-axis-frame",style:{height:t}}))},this.renderTableRowAxis=e=>{let{options:t,viewApi:i}=this.context,n={text:t.allDayText,view:i};return(0,r.createElement)(s.ContentContainer,{elTag:"td",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},renderProps:n,generatorName:"allDayContent",customGenerator:t.allDayContent,defaultGenerator:renderAllDayInner,classNameGenerator:t.allDayClassNames,didMount:t.allDayDidMount,willUnmount:t.allDayWillUnmount},t=>(0,r.createElement)("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame",null==e?" fc-timegrid-axis-frame-liquid":""].join(" "),style:{height:e}},(0,r.createElement)(t,{elTag:"span",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"]})))},this.handleSlatCoords=e=>{this.setState({slatCoords:e})}}renderSimpleLayout(e,t,i){let{context:n,props:o}=this,l=[],a=(0,s.getStickyHeaderDates)(n.options);return e&&l.push({type:"header",key:"header",isSticky:a,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),t&&(l.push({type:"body",key:"all-day",chunk:{content:t}}),l.push({type:"body",key:"all-day-divider",outerContent:(0,r.createElement)("tr",{role:"presentation",className:"fc-scrollgrid-section"},(0,r.createElement)("td",{className:"fc-timegrid-divider "+n.theme.getClass("tableCellShaded")}))})),l.push({type:"body",key:"body",liquid:!0,expandRows:!!n.options.expandRows,chunk:{scrollerElRef:this.scrollerElRef,content:i}}),(0,r.createElement)(s.ViewContainer,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:n.viewSpec},(0,r.createElement)(s.SimpleScrollGrid,{liquid:!o.isHeightAuto&&!o.forPrint,collapsibleWidth:o.forPrint,cols:[{width:"shrink"}],sections:l}))}renderHScrollLayout(e,t,i,n,o,l,a){let d=this.context.pluginHooks.scrollGridImpl;if(!d)throw Error("No ScrollGrid implementation");let{context:c,props:h}=this,g=!h.forPrint&&(0,s.getStickyHeaderDates)(c.options),u=!h.forPrint&&(0,s.getStickyFooterScrollbar)(c.options),m=[];e&&m.push({type:"header",key:"header",isSticky:g,syncRowHeights:!0,chunks:[{key:"axis",rowContent:e=>(0,r.createElement)("tr",{role:"presentation"},this.renderHeadAxis("day",e.rowSyncHeights[0]))},{key:"cols",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),t&&(m.push({type:"body",key:"all-day",syncRowHeights:!0,chunks:[{key:"axis",rowContent:e=>(0,r.createElement)("tr",{role:"presentation"},this.renderTableRowAxis(e.rowSyncHeights[0]))},{key:"cols",content:t}]}),m.push({key:"all-day-divider",type:"body",outerContent:(0,r.createElement)("tr",{role:"presentation",className:"fc-scrollgrid-section"},(0,r.createElement)("td",{colSpan:2,className:"fc-timegrid-divider "+c.theme.getClass("tableCellShaded")}))}));let f=c.options.nowIndicator;return m.push({type:"body",key:"body",liquid:!0,expandRows:!!c.options.expandRows,chunks:[{key:"axis",content:e=>(0,r.createElement)("div",{className:"fc-timegrid-axis-chunk"},(0,r.createElement)("table",{"aria-hidden":!0,style:{height:e.expandRows?e.clientHeight:""}},e.tableColGroupNode,(0,r.createElement)("tbody",null,(0,r.createElement)(TimeBodyAxis,{slatMetas:l}))),(0,r.createElement)("div",{className:"fc-timegrid-now-indicator-container"},(0,r.createElement)(s.NowTimer,{unit:f?"minute":"day"},e=>{let t=f&&a&&a.safeComputeTop(e);return"number"==typeof t?(0,r.createElement)(s.NowIndicatorContainer,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:t},isAxis:!0,date:e}):null})))},{key:"cols",scrollerElRef:this.scrollerElRef,content:i}]}),u&&m.push({key:"footer",type:"footer",isSticky:!0,chunks:[{key:"axis",content:s.renderScrollShim},{key:"cols",content:s.renderScrollShim}]}),(0,r.createElement)(s.ViewContainer,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:c.viewSpec},(0,r.createElement)(d,{liquid:!h.isHeightAuto&&!h.forPrint,forPrint:h.forPrint,collapsibleWidth:!1,colGroups:[{width:"shrink",cols:[{width:"shrink"}]},{cols:[{span:n,minWidth:o}]}],sections:m}))}getAllDayMaxEventProps(){let{dayMaxEvents:e,dayMaxEventRows:t}=this.context.options;return(!0===e||!0===t)&&(e=void 0,t=5),{dayMaxEvents:e,dayMaxEventRows:t}}};function renderAllDayInner(e){return e.text}let TimeColsSlatsCoords=class TimeColsSlatsCoords{constructor(e,t,i){this.positions=e,this.dateProfile=t,this.slotDuration=i}safeComputeTop(e){let{dateProfile:t}=this;if((0,s.rangeContainsMarker)(t.currentRange,e)){let i=(0,s.startOfDay)(e),n=e.valueOf()-i.valueOf();if(n>=(0,s.asRoughMs)(t.slotMinTime)&&n<(0,s.asRoughMs)(t.slotMaxTime))return this.computeTimeTop((0,s.createDuration)(n))}return null}computeDateTop(e,t){return t||(t=(0,s.startOfDay)(e)),this.computeTimeTop((0,s.createDuration)(e.valueOf()-t.valueOf()))}computeTimeTop(e){let t,i,{positions:n,dateProfile:r}=this,o=n.els.length,l=(e.milliseconds-(0,s.asRoughMs)(r.slotMinTime))/(0,s.asRoughMs)(this.slotDuration);return l=Math.max(0,l),l=Math.min(o,l),t=Math.floor(l),t=Math.min(t,o-1),i=l-t,n.tops[t]+n.getHeight(t)*i}};let TimeColsSlatsBody=class TimeColsSlatsBody extends s.BaseComponent{render(){let{props:e,context:t}=this,{options:i}=t,{slatElRefs:n}=e;return(0,r.createElement)("tbody",null,e.slatMetas.map((o,l)=>{let a={time:o.time,date:t.dateEnv.toDate(o.date),view:t.viewApi};return(0,r.createElement)("tr",{key:o.key,ref:n.createRef(o.key)},e.axis&&(0,r.createElement)(TimeColsAxisCell,Object.assign({},o)),(0,r.createElement)(s.ContentContainer,{elTag:"td",elClasses:["fc-timegrid-slot","fc-timegrid-slot-lane",!o.isLabeled&&"fc-timegrid-slot-minor"],elAttrs:{"data-time":o.isoTimeStr},renderProps:a,generatorName:"slotLaneContent",customGenerator:i.slotLaneContent,classNameGenerator:i.slotLaneClassNames,didMount:i.slotLaneDidMount,willUnmount:i.slotLaneWillUnmount}))}))}};let TimeColsSlats=class TimeColsSlats extends s.BaseComponent{constructor(){super(...arguments),this.rootElRef=(0,r.createRef)(),this.slatElRefs=new s.RefMap}render(){let{props:e,context:t}=this;return(0,r.createElement)("div",{ref:this.rootElRef,className:"fc-timegrid-slots"},(0,r.createElement)("table",{"aria-hidden":!0,className:t.theme.getClass("table"),style:{minWidth:e.tableMinWidth,width:e.clientWidth,height:e.minHeight}},e.tableColGroupNode,(0,r.createElement)(TimeColsSlatsBody,{slatElRefs:this.slatElRefs,axis:e.axis,slatMetas:e.slatMetas})))}componentDidMount(){this.updateSizing()}componentDidUpdate(){this.updateSizing()}componentWillUnmount(){this.props.onCoords&&this.props.onCoords(null)}updateSizing(){var e;let{context:t,props:i}=this;i.onCoords&&null!==i.clientWidth&&this.rootElRef.current.offsetHeight&&i.onCoords(new TimeColsSlatsCoords(new s.PositionCache(this.rootElRef.current,(e=this.slatElRefs.currentMap,i.slatMetas.map(t=>e[t.key])),!1,!0),this.props.dateProfile,t.options.slotDuration))}};function splitSegsByCol(e,t){let i,n=[];for(i=0;i<t;i+=1)n.push([]);if(e)for(i=0;i<e.length;i+=1)n[e[i].col].push(e[i]);return n}function splitInteractionByCol(e,t){let i=[];if(e){for(let n=0;n<t;n+=1)i[n]={affectedInstances:e.affectedInstances,isEvent:e.isEvent,segs:[]};for(let t of e.segs)i[t.col].segs.push(t)}else for(let e=0;e<t;e+=1)i[e]=null;return i}let TimeColMoreLink=class TimeColMoreLink extends s.BaseComponent{render(){let{props:e}=this;return(0,r.createElement)(s.MoreLinkContainer,{elClasses:["fc-timegrid-more-link"],elStyle:{top:e.top,bottom:e.bottom},allDayDate:null,moreCnt:e.hiddenSegs.length,allSegs:e.hiddenSegs,hiddenSegs:e.hiddenSegs,extraDateSpan:e.extraDateSpan,dateProfile:e.dateProfile,todayRange:e.todayRange,popoverContent:()=>renderPlainFgSegs(e.hiddenSegs,e),defaultGenerator:renderMoreLinkInner,forceTimed:!0},e=>(0,r.createElement)(e,{elTag:"div",elClasses:["fc-timegrid-more-link-inner","fc-sticky"]}))}};function renderMoreLinkInner(e){return e.shortText}function buildNodes(e,t){if(!e)return[[],0];let{level:i,lateralStart:n,lateralEnd:s}=e,r=n,o=[];for(;r<s;)o.push(t(i,r)),r+=1;return o.sort(cmpDescPressures),[o.map(extractNode),o[0][1]]}function cmpDescPressures(e,t){return t[1]-e[1]}function extractNode(e){return e[0]}function cacheable(e,t){let i={};return(...n)=>{let s=e(...n);return s in i?i[s]:i[s]=t(...n)}}function computeSegVCoords(e,t,i=null,n=0){let s=[];if(i)for(let r=0;r<e.length;r+=1){let o=e[r],l=i.computeDateTop(o.start,t),a=Math.max(l+(n||0),i.computeDateTop(o.end,t));s.push({start:Math.round(l),end:Math.round(a)})}return s}let c=(0,s.createFormatter)({hour:"numeric",minute:"2-digit",meridiem:!1});let TimeColEvent=class TimeColEvent extends s.BaseComponent{render(){return(0,r.createElement)(s.StandardEvent,Object.assign({},this.props,{elClasses:["fc-timegrid-event","fc-v-event",this.props.isShort&&"fc-timegrid-event-short"],defaultTimeFormat:c}))}};let TimeCol=class TimeCol extends s.BaseComponent{constructor(){super(...arguments),this.sortEventSegs=(0,s.memoize)(s.sortEventSegs)}render(){let{props:e,context:t}=this,{options:i}=t,n=i.selectMirror,o=e.eventDrag&&e.eventDrag.segs||e.eventResize&&e.eventResize.segs||n&&e.dateSelectionSegs||[],l=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{},a=this.sortEventSegs(e.fgEventSegs,i.eventOrder);return(0,r.createElement)(s.DayCellContainer,{elTag:"td",elRef:e.elRef,elClasses:["fc-timegrid-col",...e.extraClassNames||[]],elAttrs:Object.assign({role:"gridcell"},e.extraDataAttrs),date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,extraRenderProps:e.extraRenderProps},t=>(0,r.createElement)("div",{className:"fc-timegrid-col-frame"},(0,r.createElement)("div",{className:"fc-timegrid-col-bg"},this.renderFillSegs(e.businessHourSegs,"non-business"),this.renderFillSegs(e.bgEventSegs,"bg-event"),this.renderFillSegs(e.dateSelectionSegs,"highlight")),(0,r.createElement)("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(a,l,!1,!1,!1)),(0,r.createElement)("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(o,{},!!e.eventDrag,!!e.eventResize,!!n,"mirror")),(0,r.createElement)("div",{className:"fc-timegrid-now-indicator-container"},this.renderNowIndicator(e.nowIndicatorSegs)),(0,s.hasCustomDayCellContent)(i)&&(0,r.createElement)(t,{elTag:"div",elClasses:["fc-timegrid-col-misc"]})))}renderFgSegs(e,t,i,n,s,r){let{props:o}=this;return o.forPrint?renderPlainFgSegs(e,o):this.renderPositionedFgSegs(e,t,i,n,s,r)}renderPositionedFgSegs(e,t,i,n,o,l){let{eventMaxStack:a,eventShortHeight:d,eventOrderStrict:c,eventMinHeight:h}=this.context.options,{date:g,slatCoords:u,eventSelection:m,todayRange:f,nowDate:p}=this.props,v=i||n||o,y=computeSegVCoords(e,g,u,h),{segPlacements:E,hiddenGroups:S}=function(e,t,i,n){let r,o,l,a,d=[],c=[];for(let i=0;i<e.length;i+=1){let n=t[i];n?d.push({index:i,thickness:1,span:n}):c.push(e[i])}let{segRects:h,hiddenGroups:g}=(r=new s.SegHierarchy,null!=i&&(r.strictOrder=i),null!=n&&(r.maxStackCnt=n),o=r.addSegs(d),l=(0,s.groupIntersectingEntries)(o),a=function(e){let{entriesByLevel:t}=e,i=cacheable((e,t)=>e+":"+t,(n,r)=>{let o=function(e,t,i){let{levelCoords:n,entriesByLevel:r}=e,o=r[t][i],l=n[t]+o.thickness,a=n.length,d=t;for(;d<a&&n[d]<l;d+=1);for(;d<a;d+=1){let e,t=r[d],i=(0,s.binarySearch)(t,o.span.start,s.getEntrySpanEnd),n=i[0]+i[1],l=n;for(;(e=t[l])&&e.span.start<o.span.end;)l+=1;if(n<l)return{level:d,lateralStart:n,lateralEnd:l}}return null}(e,n,r),l=buildNodes(o,i),a=t[n][r];return[Object.assign(Object.assign({},a),{nextLevelNodes:l[0]}),a.thickness+l[1]]});return buildNodes(t.length?{level:0,lateralStart:0,lateralEnd:t[0].length}:null,i)[0]}(r),a=function(e,t){let i=cacheable((e,t,i)=>(0,s.buildEntryKey)(e),(e,t,n)=>{let s,{nextLevelNodes:r,thickness:o}=e,l=o+n,a=o/l,d=[];if(r.length)for(let e of r)if(void 0===s){let n=i(e,t,l);s=n[0],d.push(n[1])}else{let t=i(e,s,0);d.push(t[1])}else s=1;let c=(s-t)*a;return[s-c,Object.assign(Object.assign({},e),{thickness:c,nextLevelNodes:d})]});return e.map(e=>i(e,0,0)[1])}(a,0),{segRects:function(e){let t=[],i=cacheable((e,t,i)=>(0,s.buildEntryKey)(e),(e,i,n)=>{let s=Object.assign(Object.assign({},e),{levelCoord:i,stackDepth:n,stackForward:0});return t.push(s),s.stackForward=processNodes(e.nextLevelNodes,i+e.thickness,n+1)+1});function processNodes(e,t,n){let s=0;for(let r of e)s=Math.max(i(r,t,n),s);return s}return processNodes(e,0,0),t}(a),hiddenGroups:l}),u=[];for(let t of h)u.push({seg:e[t.index],rect:t});for(let e of c)u.push({seg:e,rect:null});return{segPlacements:u,hiddenGroups:g}}(e,y,c,a);return(0,r.createElement)(r.Fragment,null,this.renderHiddenGroups(S,e),E.map(e=>{let{seg:a,rect:c}=e,h=a.eventRange.instance.instanceId,g=v||!!(!t[h]&&c),u=computeSegVStyle(c&&c.span),y=!v&&c?this.computeSegHStyle(c):{left:0,right:0},E=!!c&&c.stackForward>0,S=!!c&&c.span.end-c.span.start<d;return(0,r.createElement)("div",{className:"fc-timegrid-event-harness"+(E?" fc-timegrid-event-harness-inset":""),key:l||h,style:Object.assign(Object.assign({visibility:g?"":"hidden"},u),y)},(0,r.createElement)(TimeColEvent,Object.assign({seg:a,isDragging:i,isResizing:n,isDateSelecting:o,isSelected:h===m,isShort:S},(0,s.getSegMeta)(a,f,p))))}))}renderHiddenGroups(e,t){let{extraDateSpan:i,dateProfile:n,todayRange:o,nowDate:l,eventSelection:a,eventDrag:d,eventResize:c}=this.props;return(0,r.createElement)(r.Fragment,null,e.map(e=>{let h=computeSegVStyle(e.span),g=e.entries.map(e=>t[e.index]);return(0,r.createElement)(TimeColMoreLink,{key:(0,s.buildIsoString)((0,s.computeEarliestSegStart)(g)),hiddenSegs:g,top:h.top,bottom:h.bottom,extraDateSpan:i,dateProfile:n,todayRange:o,nowDate:l,eventSelection:a,eventDrag:d,eventResize:c})}))}renderFillSegs(e,t){let{props:i,context:n}=this,o=computeSegVCoords(e,i.date,i.slatCoords,n.options.eventMinHeight).map((n,o)=>{let l=e[o];return(0,r.createElement)("div",{key:(0,s.buildEventRangeKey)(l.eventRange),className:"fc-timegrid-bg-harness",style:computeSegVStyle(n)},"bg-event"===t?(0,r.createElement)(s.BgEvent,Object.assign({seg:l},(0,s.getSegMeta)(l,i.todayRange,i.nowDate))):(0,s.renderFill)(t))});return(0,r.createElement)(r.Fragment,null,o)}renderNowIndicator(e){let{slatCoords:t,date:i}=this.props;return t?e.map((e,n)=>(0,r.createElement)(s.NowIndicatorContainer,{key:n,elClasses:["fc-timegrid-now-indicator-line"],elStyle:{top:t.computeDateTop(e.start,i)},isAxis:!1,date:i})):null}computeSegHStyle(e){let t,i,{isRtl:n,options:s}=this.context,r=s.slotEventOverlap,o=e.levelCoord,l=e.levelCoord+e.thickness;r&&(l=Math.min(1,o+(l-o)*2)),n?(t=1-l,i=o):(t=o,i=1-l);let a={zIndex:e.stackDepth+1,left:100*t+"%",right:100*i+"%"};return r&&!e.stackForward&&(a[n?"marginLeft":"marginRight"]=20),a}};function renderPlainFgSegs(e,{todayRange:t,nowDate:i,eventSelection:n,eventDrag:o,eventResize:l}){let a=(o?o.affectedInstances:null)||(l?l.affectedInstances:null)||{};return(0,r.createElement)(r.Fragment,null,e.map(e=>{let o=e.eventRange.instance.instanceId;return(0,r.createElement)("div",{key:o,style:{visibility:a[o]?"hidden":""}},(0,r.createElement)(TimeColEvent,Object.assign({seg:e,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:o===n,isShort:!1},(0,s.getSegMeta)(e,t,i))))}))}function computeSegVStyle(e){return e?{top:e.start,bottom:-e.end}:{top:"",bottom:""}}let TimeColsContent=class TimeColsContent extends s.BaseComponent{constructor(){super(...arguments),this.splitFgEventSegs=(0,s.memoize)(splitSegsByCol),this.splitBgEventSegs=(0,s.memoize)(splitSegsByCol),this.splitBusinessHourSegs=(0,s.memoize)(splitSegsByCol),this.splitNowIndicatorSegs=(0,s.memoize)(splitSegsByCol),this.splitDateSelectionSegs=(0,s.memoize)(splitSegsByCol),this.splitEventDrag=(0,s.memoize)(splitInteractionByCol),this.splitEventResize=(0,s.memoize)(splitInteractionByCol),this.rootElRef=(0,r.createRef)(),this.cellElRefs=new s.RefMap}render(){let{props:e,context:t}=this,i=t.options.nowIndicator&&e.slatCoords&&e.slatCoords.safeComputeTop(e.nowDate),n=e.cells.length,o=this.splitFgEventSegs(e.fgEventSegs,n),l=this.splitBgEventSegs(e.bgEventSegs,n),a=this.splitBusinessHourSegs(e.businessHourSegs,n),d=this.splitNowIndicatorSegs(e.nowIndicatorSegs,n),c=this.splitDateSelectionSegs(e.dateSelectionSegs,n),h=this.splitEventDrag(e.eventDrag,n),g=this.splitEventResize(e.eventResize,n);return(0,r.createElement)("div",{className:"fc-timegrid-cols",ref:this.rootElRef},(0,r.createElement)("table",{role:"presentation",style:{minWidth:e.tableMinWidth,width:e.clientWidth}},e.tableColGroupNode,(0,r.createElement)("tbody",{role:"presentation"},(0,r.createElement)("tr",{role:"row"},e.axis&&(0,r.createElement)("td",{"aria-hidden":!0,className:"fc-timegrid-col fc-timegrid-axis"},(0,r.createElement)("div",{className:"fc-timegrid-col-frame"},(0,r.createElement)("div",{className:"fc-timegrid-now-indicator-container"},"number"==typeof i&&(0,r.createElement)(s.NowIndicatorContainer,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:i},isAxis:!0,date:e.nowDate})))),e.cells.map((t,i)=>(0,r.createElement)(TimeCol,{key:t.key,elRef:this.cellElRefs.createRef(t.key),dateProfile:e.dateProfile,date:t.date,nowDate:e.nowDate,todayRange:e.todayRange,extraRenderProps:t.extraRenderProps,extraDataAttrs:t.extraDataAttrs,extraClassNames:t.extraClassNames,extraDateSpan:t.extraDateSpan,fgEventSegs:o[i],bgEventSegs:l[i],businessHourSegs:a[i],nowIndicatorSegs:d[i],dateSelectionSegs:c[i],eventDrag:h[i],eventResize:g[i],slatCoords:e.slatCoords,eventSelection:e.eventSelection,forPrint:e.forPrint}))))))}componentDidMount(){this.updateCoords()}componentDidUpdate(){this.updateCoords()}updateCoords(){var e;let{props:t}=this;t.onColCoords&&null!==t.clientWidth&&t.onColCoords(new s.PositionCache(this.rootElRef.current,(e=this.cellElRefs.currentMap,t.cells.map(t=>e[t.key])),!0,!1))}};let TimeCols=class TimeCols extends s.DateComponent{constructor(){super(...arguments),this.processSlotOptions=(0,s.memoize)(processSlotOptions),this.state={slatCoords:null},this.handleRootEl=e=>{e?this.context.registerInteractiveComponent(this,{el:e,isHitComboAllowed:this.props.isHitComboAllowed}):this.context.unregisterInteractiveComponent(this)},this.handleScrollRequest=e=>{let{onScrollTopRequest:t}=this.props,{slatCoords:i}=this.state;if(t&&i){if(e.time){let n=i.computeTimeTop(e.time);(n=Math.ceil(n))&&(n+=1),t(n)}return!0}return!1},this.handleColCoords=e=>{this.colCoords=e},this.handleSlatCoords=e=>{this.setState({slatCoords:e}),this.props.onSlatCoords&&this.props.onSlatCoords(e)}}render(){let{props:e,state:t}=this;return(0,r.createElement)("div",{className:"fc-timegrid-body",ref:this.handleRootEl,style:{width:e.clientWidth,minWidth:e.tableMinWidth}},(0,r.createElement)(TimeColsSlats,{axis:e.axis,dateProfile:e.dateProfile,slatMetas:e.slatMetas,clientWidth:e.clientWidth,minHeight:e.expandRows?e.clientHeight:"",tableMinWidth:e.tableMinWidth,tableColGroupNode:e.axis?e.tableColGroupNode:null,onCoords:this.handleSlatCoords}),(0,r.createElement)(TimeColsContent,{cells:e.cells,axis:e.axis,dateProfile:e.dateProfile,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,todayRange:e.todayRange,nowDate:e.nowDate,nowIndicatorSegs:e.nowIndicatorSegs,clientWidth:e.clientWidth,tableMinWidth:e.tableMinWidth,tableColGroupNode:e.tableColGroupNode,slatCoords:t.slatCoords,onColCoords:this.handleColCoords,forPrint:e.forPrint}))}componentDidMount(){this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)}componentDidUpdate(e){this.scrollResponder.update(e.dateProfile!==this.props.dateProfile)}componentWillUnmount(){this.scrollResponder.detach()}queryHit(e,t){let{dateEnv:i,options:n}=this.context,{colCoords:r}=this,{dateProfile:o}=this.props,{slatCoords:l}=this.state,{snapDuration:a,snapsPerSlot:d}=this.processSlotOptions(this.props.slotDuration,n.snapDuration),c=r.leftToIndex(e),h=l.positions.topToIndex(t);if(null!=c&&null!=h){let e=this.props.cells[c],n=l.positions.tops[h],g=l.positions.getHeight(h),u=(t-n)/g,m=h*d+Math.floor(u*d),f=this.props.cells[c].date,p=(0,s.addDurations)(o.slotMinTime,(0,s.multiplyDuration)(a,m)),v=i.add(f,p),y=i.add(v,a);return{dateProfile:o,dateSpan:Object.assign({range:{start:v,end:y},allDay:!1},e.extraDateSpan),dayEl:r.els[c],rect:{left:r.lefts[c],right:r.rights[c],top:n,bottom:n+g},layer:0}}return null}};function processSlotOptions(e,t){let i=t||e,n=(0,s.wholeDivideDurations)(e,i);return null===n&&(i=e,n=1),{snapDuration:i,snapsPerSlot:n}}let DayTimeColsSlicer=class DayTimeColsSlicer extends s.Slicer{sliceRange(e,t){let i=[];for(let n=0;n<t.length;n+=1){let r=(0,s.intersectRanges)(e,t[n]);r&&i.push({start:r.start,end:r.end,isStart:r.start.valueOf()===e.start.valueOf(),isEnd:r.end.valueOf()===e.end.valueOf(),col:n})}return i}};let DayTimeCols=class DayTimeCols extends s.DateComponent{constructor(){super(...arguments),this.buildDayRanges=(0,s.memoize)(buildDayRanges),this.slicer=new DayTimeColsSlicer,this.timeColsRef=(0,r.createRef)()}render(){let{props:e,context:t}=this,{dateProfile:i,dayTableModel:n}=e,{nowIndicator:o,nextDayThreshold:l}=t.options,a=this.buildDayRanges(n,i,t.dateEnv);return(0,r.createElement)(s.NowTimer,{unit:o?"minute":"day"},(s,d)=>(0,r.createElement)(TimeCols,Object.assign({ref:this.timeColsRef},this.slicer.sliceProps(e,i,null,t,a),{forPrint:e.forPrint,axis:e.axis,dateProfile:i,slatMetas:e.slatMetas,slotDuration:e.slotDuration,cells:n.cells[0],tableColGroupNode:e.tableColGroupNode,tableMinWidth:e.tableMinWidth,clientWidth:e.clientWidth,clientHeight:e.clientHeight,expandRows:e.expandRows,nowDate:s,nowIndicatorSegs:o&&this.slicer.sliceNowDate(s,i,l,t,a),todayRange:d,onScrollTopRequest:e.onScrollTopRequest,onSlatCoords:e.onSlatCoords})))}};function buildDayRanges(e,t,i){let n=[];for(let s of e.headerDates)n.push({start:i.add(s,t.slotMinTime),end:i.add(s,t.slotMaxTime)});return n}let h=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];function buildSlatMetas(e,t,i,n,r){let o=new Date(0),l=e,a=(0,s.createDuration)(0),d=i||function(e){let t,i,n;for(t=h.length-1;t>=0;t-=1)if(i=(0,s.createDuration)(h[t]),n=(0,s.wholeDivideDurations)(i,e),null!==n&&n>1)return i;return e}(n),c=[];for(;(0,s.asRoughMs)(l)<(0,s.asRoughMs)(t);){let e=r.add(o,l),t=null!==(0,s.wholeDivideDurations)(a,d);c.push({date:e,time:l,key:e.toISOString(),isoTimeStr:(0,s.formatIsoTimeString)(e),isLabeled:t}),l=(0,s.addDurations)(l,n),a=(0,s.addDurations)(a,n)}return c}let DayTimeColsView=class DayTimeColsView extends TimeColsView{constructor(){super(...arguments),this.buildTimeColsModel=(0,s.memoize)(buildTimeColsModel),this.buildSlatMetas=(0,s.memoize)(buildSlatMetas)}render(){let{options:e,dateEnv:t,dateProfileGenerator:i}=this.context,{props:n}=this,{dateProfile:l}=n,a=this.buildTimeColsModel(l,i),d=this.allDaySplitter.splitProps(n),c=this.buildSlatMetas(l.slotMinTime,l.slotMaxTime,e.slotLabelInterval,e.slotDuration,t),{dayMinWidth:h}=e,g=!h,u=e.dayHeaders&&(0,r.createElement)(s.DayHeader,{dates:a.headerDates,dateProfile:l,datesRepDistinctDays:!0,renderIntro:g?this.renderHeadAxis:null}),m=!1!==e.allDaySlot&&(t=>(0,r.createElement)(o.iz,Object.assign({},d.allDay,{dateProfile:l,dayTableModel:a,nextDayThreshold:e.nextDayThreshold,tableMinWidth:t.tableMinWidth,colGroupNode:t.tableColGroupNode,renderRowIntro:g?this.renderTableRowAxis:null,showWeekNumbers:!1,expandRows:!1,headerAlignElRef:this.headerElRef,clientWidth:t.clientWidth,clientHeight:t.clientHeight,forPrint:n.forPrint},this.getAllDayMaxEventProps()))),timeGridContent=t=>(0,r.createElement)(DayTimeCols,Object.assign({},d.timed,{dayTableModel:a,dateProfile:l,axis:g,slotDuration:e.slotDuration,slatMetas:c,forPrint:n.forPrint,tableColGroupNode:t.tableColGroupNode,tableMinWidth:t.tableMinWidth,clientWidth:t.clientWidth,clientHeight:t.clientHeight,onSlatCoords:this.handleSlatCoords,expandRows:t.expandRows,onScrollTopRequest:this.handleScrollTopRequest}));return h?this.renderHScrollLayout(u,m,timeGridContent,a.colCnt,h,c,this.state.slatCoords):this.renderSimpleLayout(u,m,timeGridContent)}};function buildTimeColsModel(e,t){let i=new s.DaySeriesModel(e.renderRange,t);return new s.DayTableModel(i,!1)}n()}catch(e){n(e)}})}};